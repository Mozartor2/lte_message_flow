== 系统信息
=== 概述
LTE系统内分为MIB和SIB系列消息，对于UE当新接入一个小区或广播消息发生改变时，都会接收系统信息（MIB\SIB），以帮助更新或纠正UE当前的状态，完成相应的通信业务和物理过程。在系统路测中可以观察的系统信息有种：MIB、SIB1和SI，其作用分别如下。

- MIB:用于系统接入。MIB上传输几个比较重要的系统信息参数，如小区下行带宽、PHICH配置参数、无线系统帧号SFN（包含SIB1消息的位置），在PBCH上发送，表现为“RRC_MASTER_INFO_BLOCK”。
- SIB1:广播小区接入与小区选择的相关参数以及SI消息的调度信息（包含了一个或多个SIB2-13消息），在PDSCH上发送，表现为“RRC_SIB_TYPE1”。
- SI:SI消息中承载的是SIB2-SIB13，在PDSCH上发送，表现为“RRC_SYS_INFO”。
* SIB2:小区内所有UE共用的无线参数配置，其它无线参数基本配置。
* SIB4:同频邻区列表以及每个邻区的重选参数、同频白/黑名单小区列表。
* SIB5:异频相邻频点列表以及每个频点的重选参数、异频相邻小区列表以及每个邻区的重选参数、异频黑名单小区列表。
* SIB6:UTRA FDD邻频频点列表以及每个频点的重选参数、UTRA TDD邻频频点列表以及每个频点的重选参数。
* SIB7:GERAN邻频频点列表以及每个频点的重选参数。
* SIB8:CDMA2000的预注册信息、CDMA2000邻频频段列表和每个频段的重选参数、CDMA2000邻频频段的邻区列表。
* SIB9:Home eNodeB的名称。
* SIB10:ETWS主信息（primary notification）。
* SIB11:ETWS辅信息（secondary notification）。
* SIB12:CMAS信息（CMAS notification）。
* SIB13:请求获取跟一个或多个MBSFN区域相关的MBMS控制信息的信息。

image::images/SI_Scheduling.PNG[title="系统信息时序图",align="center"]


=== 系统信息（System Information）解析
==== MIB (Master Information Block)解析
MIB主要包含系统带宽、PHICH配置信息、系统帧号。（下图为实测信令）

image:./images/mib.png[title="mib",align="center"]

[glossary]
DL_Bandwidth::
系统带宽，范围enumerate(1.4M(6RB, 0)，3M(15RB, 1)，5M(25RB, 2)，10M(50RB, 3)，15M(75RB, 4)，20M(100RB, 5))，上图为n100，对应的系统带宽为20M（100RB，带宽索引号为5）。
Phich_Config::
- 参见 http://blog.sina.com.cn/s/blog_927cff010101bhbi.html[PHICH分析一]
- 参见 http://blog.sina.com.cn/s/blog_927cff010101bhck.html[PHICH分析二]

Phich_Duration::
当该参数设置为normal时，PDCCH占用的OFDM符号数可以自适应调整；当该参数设置为extended时，若带宽为1.4M，则PDCCH占用的OFDM符号数可以取3或4，对于其他系统带宽下，PDCCH占用的符号数只能为3。

[align="center", width="90%", options="header"]
.Phich_Duration
|==============================================
^|              2+| 非MBSFN子帧                       | MBSFN子帧
^| PHICH持续时间 | 帧结构类型2中的子帧1和子帧6 | 其他情况 |同时支持PDSCH和PMCH的载波
^| Normal       | 1 | 1 | 1
^| Extended     | 2 | 3 | 2
|==============================================

PHICH-Resource::
该参数用于计算小区PHICH信道的资源；
SystemFrameNumber::
系统帧号。系统帧号，用于UE获取系统时钟。实际SFN位长为10bit，也就是取值从0-1023循环。在PBCH的MIB广播中只广播前8位，剩下的两位根据该帧在PBCH 40ms周期窗口的位置确定，第一个10ms帧为00，第二帧为01，第三帧为10，第四帧为11。PBCH的40ms窗口手机可以通过盲检确定。
Spare::
预留的，暂时未用


=== SIB1 (System Information Block 1) 解析
SIB1上主要传输评估UE能否接入小区的相关信息及其他系统信息的调度信息。主要包括4部分：

- 小区接入相关信息（cell Access Related Info）
* PLMN Identity List, PLMN Identity, TA Code, Cell identity & Cell Status
- 小区选择信息（cell Selection Info）
* Minimum Receiver Level
- 调度信息（scheduling Info List）
* SI message type & Periodicity, SIB mapping Info, SI Window length
- TDD配置信息（tdd-Config）


.SIB1
[source,message]
----
MS1
System Information Block Type1 (DL-BCCH-SCH)

Time : 15:57:43.004
Vendor Header
  Length : 47
  Log Code (Hex) : 0xB0C0
  HW Timestamp : (63622381.25 ms) 17:40:22.381
    1.25 ms fraction : 0.00
    CFN : 136
    1.25 ms counter : 867576017905
  RRC Signaling Header
    Log Packet Version : 2
    RRC Release Number : 9.5.0
    Radio Bearer Id : 0
    Physical Cell Id : 2
    E-ARFCN : 39150
    System Frame Number
      System frame number : N/A
      Sub frame number : N/A
    Message Type : BcchSchDownlink
    Message Length : 22
plmn-IdentityList
  PLMN-IdentityList :
    [0 ] :
      plmn-Identity
        mcc
          MCC :
            [0 ] : 0
            [1 ] : 0
            [2 ] : 1
        mnc
          MNC :
            [0 ] : 0
            [1 ] : 1
      cellReservedForOperatorUse : notReserved
trackingAreaCode : 12594 (0x3132)
cellIdentity : 2 (0x2)
cellBarred : notBarred
intraFreqReselection : allowed
csg-Indication : False
q-RxLevMin : -65
q-RxLevMinOffset : 1
p-Max : 23
freqBandIndicator : 40
schedulingInfoList
  SchedulingInfoList :
    [0 ] :
      si-Periodicity : rf16
      sib-MappingInfo
        SIB-MappingInfo :
          [0 ] :
            extensionBit0 : 0
            Optionalitem : sibType3
          [1 ] :
            extensionBit0 : 0
            Optionalitem : sibType5
    [1 ] :
      si-Periodicity : rf128
      sib-MappingInfo
        SIB-MappingInfo :
          [0 ] :
            extensionBit0 : 0
            Optionalitem : sibType6
          [1 ] :
            extensionBit0 : 0
            Optionalitem : sibType7
tdd-Config
  subframeAssignment : sa2
  specialSubframePatterns : ssp7
si-WindowLength : ms20
systemInfoValueTag : 0


Message dump (Hex):
    70 40 04 03 31 32 00 00 00 29
    14 6B 38 48 80 28 21 91 3D 00
    00 00

----


=== SIB2 (System Information Block 2) 解析
....
MS1
System Information Block 2

Time : 17:45:31.000
ac-BarringForEmergency : False
ac-BarringForMO-Signalling
  ac-BarringFactor : p95
  ac-BarringTime : s8
  ac-BarringForSpecialAC : 00000
    [0 ] : 0
    [1 ] : 0
    [2 ] : 0
    [3 ] : 0
    [4 ] : 0
ac-BarringForMO-Data
  ac-BarringFactor : p95
  ac-BarringTime : s8
  ac-BarringForSpecialAC : 00000
    [0 ] : 0
    [1 ] : 0
    [2 ] : 0
    [3 ] : 0
    [4 ] : 0
radioResourceConfigCommon
  rach-ConfigCommon
    numberOfRA-Preambles : n52
    sizeOfRA-PreamblesGroupA : n44
    messageSizeGroupA : b56
    messagePowerOffsetGroupB : dB5
    powerRampingStep : dB2
    preambleInitialReceivedTargetPower : dBm-90
    preambleTransMax : n20
    ra-ResponseWindowSize : sf10
    mac-ContentionResolutionTimer : sf48
    maxHARQ-Msg3Tx : 8
  bcch-Config
    modificationPeriodCoeff : n4
  pcch-Config
    defaultPagingCycle : rf64
    nB : oneT
  prach-Config
    rootSequenceIndex : 22
    prach-ConfigInfo
      prach-ConfigIndex : 0
      highSpeedFlag : False
      zeroCorrelationZoneConfig : 1
      prach-FreqOffset : 10
  pdsch-ConfigCommon
    referenceSignalPower : -10
    p-b : 1
  pusch-ConfigCommon
    n-SB : 2
    hoppingMode : interSubFrame
    pusch-HoppingOffset : 6
    enable64QAM : True
    ul-ReferenceSignalsPUSCH
      groupHoppingEnabled : False
      groupAssignmentPUSCH : 0
      sequenceHoppingEnabled : False
      cyclicShift : 0
  pucch-ConfigCommon
    deltaPUCCH-Shift : ds1
    nRB-CQI : 2
    nCS-AN : 0
    n1PUCCH-AN : 2
  soundingRS-UL-ConfigCommon
    SoundingRS-UL-ConfigCommon : release
  uplinkPowerControlCommon
    p0-NominalPUSCH : -80
    alpha : al1
    p0-NominalPUCCH : -100
    deltaFList-PUCCH
      deltaF-PUCCH-Format1 : deltaF-2
      deltaF-PUCCH-Format1b : deltaF3
      deltaF-PUCCH-Format2 : deltaF-2
      deltaF-PUCCH-Format2a : deltaF2
      deltaF-PUCCH-Format2b : deltaF2
    deltaPreambleMsg3 : 4
  ul-CyclicPrefixLength : len1
ue-TimersAndConstants
  t300 : ms1000
  t301 : ms1000
  t310 : ms1000
  n310 : n1
  t311 : ms1000
  n311 : n8
additionalSpectrumEmission : 1
timeAlignmentTimerCommon : infinity

....

=== SIB3 (System Information Block 3) 解析
....
MS1
System Information Block 3

Time : 17:45:36.299
q-Hyst : dB3
s-NonIntraSearch : 22
threshServingLow : 15
cellReselectionPriority : 7
q-RxLevMin : -60
p-Max : 23
s-IntraSearch : 19
allowedMeasBandwidth : mbw100
presenceAntennaPort1 : False
neighCellConfig
  Binary string (Bin) : 01
    [0 ] : 0
    [1 ] : 1
t-ReselectionEUTRA : 1

....

=== SIB4 (System Information Block 4) 解析
....
MS1
System Information Block 4

Time : 10:01:27.846
intraFreqNeighCellList
  IntraFreqNeighCellList :
    [0 ] :
      physCellId : 14
      q-OffsetCell : dB0
    [1 ] :
      physCellId : 201
      q-OffsetCell : dB0

....

=== SIB5 (System Information Block 5) 解析
....
MS1
System Information Block 5

Time : 17:45:36.299
interFreqCarrierFreqList
  InterFreqCarrierFreqList :
    [0 ] :
      dl-CarrierFreq : 2
      q-RxLevMin : -65
      t-ReselectionEUTRA : 1
      threshX-High : 12
      threshX-Low : 11
      allowedMeasBandwidth : mbw100
      presenceAntennaPort1 : False
      cellReselectionPriority : 7
      neighCellConfig
        Binary string (Bin) : 00
          [0 ] : 0
          [1 ] : 0
....

.MS-DOS directory listing
-----------------------------------------------------
10/17/97   9:04         <DIR>    bin
10/16/97  14:11         <DIR>    DOS            <1>
10/16/97  14:40         <DIR>    Program Files
10/16/97  14:46         <DIR>    TEMP
10/17/97   9:04         <DIR>    tmp
10/16/97  14:37         <DIR>    WINNT
10/16/97  14:25             119  AUTOEXEC.BAT   <2>
 2/13/94   6:21          54,619  COMMAND.COM    <2>
10/16/97  14:25             115  CONFIG.SYS     <2>
11/16/97  17:17      61,865,984  pagefile.sys
 2/13/94   6:21           9,349  WINA20.386     <3>
-----------------------------------------------------

<1> This directory holds MS-DOS.
<2> System startup code for DOS.
<3> Some sort of Windows 3.1 hack.
