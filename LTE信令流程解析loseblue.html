<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.0">
<meta name="author" content="loseblue">
<title>LTE信令流程解析</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-check-square-o:first-child,ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after,a[href^="mailto:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body class="article">
<div id="header">
<h1>LTE信令流程解析</h1>
<div class="details">
<span id="author" class="author">loseblue</span><br>
<span id="email" class="email"><a href="mailto:loseblue@163.com">loseblue@163.com</a></span><br>
<span id="revnumber">version 0.1,</span>
<span id="revdate">2015年7月29日 14</span>
<br><span id="revremark">33:29</span>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_系统信息解析">系统信息解析</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_概述">概述</h3>
<div class="paragraph">
<p>LTE系统内分为MIB和SIB系列消息, 对于UE当新接入一个小区或广播消息发生改变时, 都会接收系统信息(MIB\SIB), 以帮助更新或纠正UE当前的状态, 完成相应的通信业务和物理过程. 在系统路测中可以观察的系统信息有种: MIB, SIB1和SI, 其作用分别如下.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MIB:用于系统接入. MIB上传输几个比较重要的系统信息参数, 如小区下行带宽, PHICH配置参数, 无线系统帧号SFN(包含SIB1消息的位置), 在PBCH上发送, 表现为"RRC_MASTER_INFO_BLOCK".</p>
</li>
<li>
<p>SIB1:广播小区接入与小区选择的相关参数以及SI消息的调度信息(包含了一个或多个SIB2-13消息), 在PDSCH上发送, 表现为"RRC_SIB_TYPE1".</p>
</li>
<li>
<p>SI:SI消息中承载的是SIB2-SIB13, 在PDSCH上发送, 表现为"RRC_SYS_INFO".</p>
<div class="ulist">
<ul>
<li>
<p>SIB2:小区内所有UE共用的无线参数配置, 其它无线参数基本配置.</p>
</li>
<li>
<p>SIB4:同频邻区列表以及每个邻区的重选参数, 同频白/黑名单小区列表.</p>
</li>
<li>
<p>SIB5:异频相邻频点列表以及每个频点的重选参数, 异频相邻小区列表以及每个邻区的重选参数, 异频黑名单小区列表.</p>
</li>
<li>
<p>SIB6:UTRA FDD邻频频点列表以及每个频点的重选参数, UTRA TDD邻频频点列表以及每个频点的重选参数.(WCDMA)</p>
</li>
<li>
<p>SIB7:GERAN邻频频点列表以及每个频点的重选参数.</p>
</li>
<li>
<p>SIB8:CDMA2000的预注册信息, CDMA2000邻频频段列表和每个频段的重选参数, CDMA2000邻频频段的邻区列表.</p>
</li>
<li>
<p>SIB9:Home eNodeB的名称.</p>
</li>
<li>
<p>SIB10:ETWS主信息(primary notification).</p>
</li>
<li>
<p>SIB11:ETWS辅信息(secondary notification).</p>
</li>
<li>
<p>SIB12:CMAS信息(CMAS notification).</p>
</li>
<li>
<p>SIB13:请求获取跟一个或多个MBSFN区域相关的MBMS控制信息的信息.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/SI_Scheduling.jpg" alt="SI Scheduling">
</div>
<div class="title">Figure 1. 系统信息时序图</div>
</div>
</div>
<div class="sect2">
<h3 id="_mib_master_information_block_解析">MIB (Master Information Block)解析</h3>
<div class="paragraph">
<p>MIB主要包含系统带宽, PHICH配置信息, 系统帧号. (下图为实测信令)</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/mib.jpg" alt="mib">
</div>
<div class="title">Figure 2. mib</div>
</div>
<div class="dlist glossary">
<dl>
<dt>DL_Bandwidth</dt>
<dd>
<p>系统带宽, 范围enumerate(1.4M(6RB, 0), 3M(15RB, 1), 5M(25RB, 2), 10M(50RB, 3), 15M(75RB, 4), 20M(100RB, 5)), 上图为n100, 对应的系统带宽为20M(100RB, 带宽索引号为5).</p>
</dd>
<dt>Phich_Config</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>参见 <a href="http://blog.sina.com.cn/s/blog_927cff010101bhbi.html">PHICH分析一</a></p>
</li>
<li>
<p>参见 <a href="http://blog.sina.com.cn/s/blog_927cff010101bhck.html">PHICH分析二</a></p>
</li>
</ul>
</div>
</dd>
<dt>Phich_Duration</dt>
<dd>
<p>当该参数设置为normal时, PDCCH占用的OFDM符号数可以自适应调整; 当该参数设置为extended时, 若带宽为1.4M, 则PDCCH占用的OFDM符号数可以取3或4, 对于其他系统带宽下, PDCCH占用的符号数只能为3.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 1. Phich_Duration</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"></th>
<th class="tableblock halign-left valign-top" colspan="2">非MBSFN子帧</th>
<th class="tableblock halign-left valign-top">MBSFN子帧</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">PHICH持续时间</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">帧结构类型2中的子帧1和子帧6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">其他情况</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">同时支持PDSCH和PMCH的载波</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Normal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Extended</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">PHICH-Resource</dt>
<dd>
<p>该参数用于计算小区PHICH信道的资源;</p>
</dd>
<dt class="hdlist1">SystemFrameNumber</dt>
<dd>
<p>系统帧号. 系统帧号, 用于UE获取系统时钟. 实际SFN位长为10bit, 也就是取值从0-1023循环. 在PBCH的MIB广播中只广播前8位, 剩下的两位根据该帧在PBCH 40ms周期窗口的位置确定, 第一个10ms帧为00, 第二帧为01, 第三帧为10, 第四帧为11. PBCH的40ms窗口手机可以通过盲检确定.</p>
</dd>
<dt class="hdlist1">Spare</dt>
<dd>
<p>预留的, 暂时未用</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_sib1_system_information_block_1_解析">SIB1 (System Information Block 1) 解析</h3>
<div class="paragraph">
<p>SIB1上主要传输评估UE能否接入小区的相关信息及其他系统信息的调度信息. 主要包括4部分:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>小区接入相关信息(cell Access Related Info)</p>
<div class="ulist">
<ul>
<li>
<p>PLMN Identity List, PLMN Identity, TA Code, Cell identity &amp; Cell Status</p>
</li>
</ul>
</div>
</li>
<li>
<p>小区选择信息(cell Selection Info)</p>
<div class="ulist">
<ul>
<li>
<p>Minimum Receiver Level</p>
</li>
</ul>
</div>
</li>
<li>
<p>调度信息(scheduling Info List)</p>
<div class="ulist">
<ul>
<li>
<p>SI message type &amp; Periodicity, SIB mapping Info, SI Window length</p>
</li>
</ul>
</div>
</li>
<li>
<p>TDD配置信息(tdd-Config)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">SIB1</div>
<div class="content">
<pre>MS1
System Information Block Type1 (DL-BCCH-SCH)

Time : 15:57:43.004
Vendor Header
  Length : 47
  Log Code (Hex) : 0xB0C0
  HW Timestamp : (63622381.25 ms) 17:40:22.381
    1.25 ms fraction : 0.00
    CFN : 136
    1.25 ms counter : 867576017905
  RRC Signaling Header
    Log Packet Version : 2
    RRC Release Number : 9.5.0
    Radio Bearer Id : 0
    Physical Cell Id : 2
    E-ARFCN : 39150
    System Frame Number
      System frame number : N/A
      Sub frame number : N/A
    Message Type : BcchSchDownlink
    Message Length : 22
plmn-IdentityList                                               <b class="conum">(1)</b>
  PLMN-IdentityList :
    [0 ] :
      plmn-Identity
        mcc
          MCC :
            [0 ] : 0
            [1 ] : 0
            [2 ] : 1
        mnc
          MNC :
            [0 ] : 0
            [1 ] : 1
      cellReservedForOperatorUse : notReserved
trackingAreaCode : 12594 (0x3132)                               <b class="conum">(2)</b>
cellIdentity : 2 (0x2)                                          <b class="conum">(3)</b>
cellBarred : notBarred                                          <b class="conum">(4)</b>
intraFreqReselection : allowed                                  <b class="conum">(5)</b>
csg-Indication : False                                          <b class="conum">(6)</b>
q-RxLevMin : -65                                                <b class="conum">(7)</b>
q-RxLevMinOffset : 1                                            <b class="conum">(8)</b>
p-Max : 23                                                      <b class="conum">(9)</b>
freqBandIndicator : 40                                          <b class="conum">(10)</b>
schedulingInfoList                                              <b class="conum">(11)</b>
  SchedulingInfoList :
    [0 ] :
      si-Periodicity : rf16                                     <b class="conum">(12)</b>
      sib-MappingInfo
        SIB-MappingInfo :
          [0 ] :
            extensionBit0 : 0
            Optionalitem : sibType3                             <b class="conum">(13)</b>
          [1 ] :
            extensionBit0 : 0
            Optionalitem : sibType5
    [1 ] :
      si-Periodicity : rf128
      sib-MappingInfo
        SIB-MappingInfo :
          [0 ] :
            extensionBit0 : 0
            Optionalitem : sibType6
          [1 ] :
            extensionBit0 : 0
            Optionalitem : sibType7
tdd-Config
  subframeAssignment : sa2                                      <b class="conum">(14)</b>
  specialSubframePatterns : ssp7                                <b class="conum">(15)</b>
si-WindowLength : ms20                                          <b class="conum">(16)</b>
systemInfoValueTag : 0                                          <b class="conum">(17)</b>


Message dump (Hex):
    70 40 04 03 31 32 00 00 00 29
    14 6B 38 48 80 28 21 91 3D 00
    00 00</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>PLMN标识列表(0-6)</p>
</li>
<li>
<p>TAC跟踪区(0-65546) 消息中(0x3132)为16进制数, 转换成十进制为12594</p>
</li>
<li>
<p>小区ID实际是ECI, 与核心网中的数据相同, 其中089055为ENB ID标识, 0A为小区标识(此数字必须是2位16进制数, 才能与16进制的ENB ID进行组合成ECI), 如果ENB ID和小区ID都是十进制数的话, ECI=10进制的ENB ID * 256+ 10进制cell ID</p>
</li>
<li>
<p>小区禁止: 小区是否禁止UE驻扎, notBarred表示不禁止</p>
</li>
<li>
<p>同频重选: 允许; 用来控制当更高级别的小区禁止接入时, 能否重选同频小区</p>
</li>
<li>
<p>指示这个小区是否为CSG小区. 当csg-Indication设置为1(true)时, 只有当消息中的CSG(Closed Subscriber Group关闭用户组)标识和UE中存储的CSG列表中的一项匹配时, 此UE才能接入小区. 这个主要是用在R9的家庭基站中的概念, 用于家庭基站对用户接入的控制. FALSE表示不启用.</p>
</li>
<li>
<p>指示小区要求的最小接收功率RSRP(-140..-44)dBm, 即当UE测量小区RSRP低于该值时UE是无法在该小区驻留的. 实际的值为: Q<sub>rxlevmin</sub> = IE value * 2[dB]</p>
</li>
<li>
<p>小区选择所需要的最小接收电平偏移,(2-16)dB</p>
</li>
<li>
<p>小区支持UE允许的最大发射功率,如果eNB配置大于UE支持最大值, UE就设置为UE支持的最大值. 例如Cat3 UE支持最大23db</p>
</li>
<li>
<p>频带指示, 表示当前系统的使用40频段</p>
</li>
<li>
<p>调度信息表</p>
</li>
<li>
<p>SI消息的调度周期, 以无线帧为单位. 如rf16表示周期为16个无线帧</p>
</li>
<li>
<p>系统消息中所含的系统信息块映射表. 表中没有包含SIB2, 它一直包含在SI消息中的第一项. 该字段决定了该小区能下发的sib(3到11)类型. 以上调度信息表示SIB3的周期和位置.</p>
</li>
<li>
<p>用于指示上下行子帧的配置, sa2对应配置2. 详见 <a href="#tab_UD_conifg">TD LTE uplink-downlink configuration</a></p>
</li>
<li>
<p>特殊子帧配比. 详见 <a href="#tab_special_conifg">TD LTE uplink-downlink configuration</a></p>
</li>
<li>
<p>系统消息调度窗口,20ms</p>
</li>
<li>
<p>指示其它SIB是否发生了改变 详见 <a href="#si_value_tag">systemInfoValueTag解析</a></p>
</li>
</ol>
</div>
<table id="tab_UD_conifg" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 2. TD LTE uplink-downlink configuration</caption>
<colgroup>
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">Uplink-downlink configuration</p></td>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">Downlink-to-Uplink Switch-point periodicity</p></td>
<td class="tableblock halign-center valign-top" colspan="10"><p class="tableblock">Subframe number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
</tr>
</tbody>
</table>
<table id="tab_special_conifg" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 3. TD LTE uplink-downlink configuration</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">特殊子帧配置</p></td>
<td class="tableblock halign-center valign-top" colspan="3"><p class="tableblock">Normal CP(常规CP)1ms14个码</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DwPTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UpPTS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
<div id="si_value_tag" class="paragraph">
<p><span class="big">systemInfoValueTag解析</span></p>
</div>
<div class="paragraph">
<p>对于除MIB, SIB1, SIB10和SIB11之外的所有系统信息块的公共值, 范围(0-31); SI每变化一次, systemInfoValueTag值就加1(或减1: 移动研究院测试华为网络机制是减1).</p>
</div>
<div class="paragraph">
<p>举例: UE将寻呼消息PAGING TYPE1中的MIB value tag1与自己保存的MIB value tag2进行比较:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>如果这两个Tag不同的话, 认为SI已经更新, 重新读取SI.</p>
</li>
<li>
<p>当重新获取得的systemInfoValueTag3与systemInfoValueTag1相同, 而systemInfoValueTag2不同的话, 读取MIB中的调度内容, 进行系统消息更新.</p>
</li>
<li>
<p>如果自己保存的systemInfoValueTag2与重新接收的systemInfoValueTag3相同, 而与寻呼消息中的systemInfoValueTag1不同的话, 认为MIB还没有广播下来, 等下一个MIB.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_sib2_system_information_block_2_解析">SIB2 (System Information Block 2) 解析</h3>
<div class="ulist">
<ul>
<li>
<p>SIB2包含对所有UE适用的无线资源配置信息</p>
</li>
<li>
<p>SIB2包含通用和共享信道配置, RACH相关配置, 定时器, 上行功控</p>
</li>
<li>
<p>没有SIB2会导致UE无法初始化ATTACH流程</p>
</li>
<li>
<p>SIB2消息不一定显式的包含在SIB1调度信息中, 但是它总是映射在IB1消息中schedulingInfoList的第一个实体</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="title">SIB2</div>
<div class="content">
<pre>MS1
System Information Block 2

Time : 17:45:31.000
ac-BarringForEmergency : False
ac-BarringForMO-Signalling
  ac-BarringFactor : p95
  ac-BarringTime : s8
  ac-BarringForSpecialAC : 00000
    [0 ] : 0
    [1 ] : 0
    [2 ] : 0
    [3 ] : 0
    [4 ] : 0
ac-BarringForMO-Data
  ac-BarringFactor : p95
  ac-BarringTime : s8
  ac-BarringForSpecialAC : 00000
    [0 ] : 0
    [1 ] : 0
    [2 ] : 0
    [3 ] : 0
    [4 ] : 0
radioResourceConfigCommon
  rach-ConfigCommon                                             <b class="conum">(1)</b>
    numberOfRA-Preambles : n52                                  <b class="conum">(2)</b>
    sizeOfRA-PreamblesGroupA : n44                              <b class="conum">(3)</b>
    messageSizeGroupA : b56                                     <b class="conum">(4)</b>
    messagePowerOffsetGroupB : dB5                              <b class="conum">(5)</b>
    powerRampingStep : dB2                                      <b class="conum">(6)</b>
    preambleInitialReceivedTargetPower : dBm-90                 <b class="conum">(7)</b>
    preambleTransMax : n20                                      <b class="conum">(8)</b>
    ra-ResponseWindowSize : sf10                                <b class="conum">(9)</b>
    mac-ContentionResolutionTimer : sf48                        <b class="conum">(10)</b>
    maxHARQ-Msg3Tx : 8                                          <b class="conum">(11)</b>
  bcch-Config
    modificationPeriodCoeff : n4                                <b class="conum">(12)</b>
  pcch-Config
    defaultPagingCycle : rf64                                   <b class="conum">(13)</b>
    nB : oneT                                                   <b class="conum">(14)</b>
  prach-Config
    rootSequenceIndex : 22                                      <b class="conum">(15)</b>
    prach-ConfigInfo
      prach-ConfigIndex : 0                                     <b class="conum">(16)</b>
      highSpeedFlag : False                                     <b class="conum">(17)</b>
      zeroCorrelationZoneConfig : 1                             <b class="conum">(18)</b>
      prach-FreqOffset : 10                                     <b class="conum">(19)</b>
  pdsch-ConfigCommon
    referenceSignalPower : -10                                  <b class="conum">(20)</b>
    p-b : 1                                                     <b class="conum">(21)</b>
  pusch-ConfigCommon
    n-SB : 2                                                    <b class="conum">(22)</b>
    hoppingMode : interSubFrame                                 <b class="conum">(23)</b>
    pusch-HoppingOffset : 6                                     <b class="conum">(24)</b>
    enable64QAM : True                                          <b class="conum">(25)</b>
    ul-ReferenceSignalsPUSCH
      groupHoppingEnabled : False                               <b class="conum">(26)</b>
      groupAssignmentPUSCH : 0                                  <b class="conum">(27)</b>
      sequenceHoppingEnabled : False                            <b class="conum">(28)</b>
      cyclicShift : 0                                           <b class="conum">(29)</b>
  pucch-ConfigCommon
    deltaPUCCH-Shift : ds1                                      <b class="conum">(30)</b>
    nRB-CQI : 2                                                 <b class="conum">(31)</b>
    nCS-AN : 0                                                  <b class="conum">(32)</b>
    n1PUCCH-AN : 2                                              <b class="conum">(33)</b>
  soundingRS-UL-ConfigCommon
    SoundingRS-UL-ConfigCommon : release
  uplinkPowerControlCommon
    p0-NominalPUSCH : -80                                       <b class="conum">(34)</b>
    alpha : al1                                                 <b class="conum">(35)</b>
    p0-NominalPUCCH : -100                                      <b class="conum">(36)</b>
    deltaFList-PUCCH
      deltaF-PUCCH-Format1 : deltaF-2                           <b class="conum">(37)</b>
      deltaF-PUCCH-Format1b : deltaF3
      deltaF-PUCCH-Format2 : deltaF-2
      deltaF-PUCCH-Format2a : deltaF2
      deltaF-PUCCH-Format2b : deltaF2
    deltaPreambleMsg3 : 4                                       <b class="conum">(38)</b>
  ul-CyclicPrefixLength : len1                                  <b class="conum">(39)</b>
ue-TimersAndConstants
  t300 : ms1000                                                 <b class="conum">(40)</b>
  t301 : ms1000                                                 <b class="conum">(41)</b>
  t310 : ms1000                                                 <b class="conum">(42)</b>
  n310 : n1                                                     <b class="conum">(43)</b>
  t311 : ms1000                                                 <b class="conum">(44)</b>
  n311 : n8
additionalSpectrumEmission : 1                                  <b class="conum">(45)</b>
timeAlignmentTimerCommon : infinity                             <b class="conum">(46)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>随机接入配置</p>
</li>
<li>
<p>保留给竞争模式使用的随机接入前导码个数, n52即52个</p>
</li>
<li>
<p>随机接入前导码组A的大小. 对于所有用于竞争随机接入的前导码, eNodeB可以选择性的将其分为两组, 称为集合A和集合B. 触发随机接入时, UE首先根据待发送的Msg3大小和路损大小确定使用哪个集合. 集合A用于Msg3较小或路损较大的场景; 集合B用于Msg3较大且路损较小的场景.n44:前导码组A包含44个前导码, B组52-44=8个前导码</p>
</li>
<li>
<p>Msg3消息块大小门限, 针对Preamble码集合A. 如果Group B存在, 则在选择Preamble码的集合时, 考察: 如果Msg3的大小大于该门限, 同时满足UE的路损小于: PCMAX – preambleInitialReceivedTargetPower– deltaPreambleMsg3 – messagePowerOffsetGroupB的门限值, 则选择Group B; 否则就选择Group A. b56表示56bit.</p>
</li>
<li>
<p>用于配合判决UE随机接入Preamble B组的选择</p>
</li>
<li>
<p>随机前导码的发射功率调整步长. dB2表明2个dB</p>
</li>
<li>
<p>eNodeB期望接收到的初始随机前导码的功率.当PRACH前导格式为0时, 在满足前导检测性能时, eNodeB所期望的目标功率水平.</p>
</li>
<li>
<p>随机接入前导最大重发次数. 如果初始接入过程失败, 但是还没有达到最大尝试次数preambleTransMax, 则可以继续尝试. 如果达到最大次数, 则本次随机接入过程结束</p>
</li>
<li>
<p>随机接入响应窗大小. 若在窗口期未收到RAR, 则上行同步失败.Sf10表示10个子帧的长度. 响应窗起点与Msg1间隔10ms(发送了接入前导序列以后, UE需要监听PDCCH信道,是否存在ENODEB回复的RAR消息, (Random Access Response), RAR的时间窗是从UE发送了前导序列的子帧 + 3个子帧开始, 长度为Ra-ResponseWindowSize个子帧)</p>
</li>
<li>
<p>RA过程中UE等待接收Msg4的有效时长. 当UE初传或重传Msg3时启动. 在超时前UE收到Msg4或Msg3的NACK反馈, 则定时器停止. 定时器超时, 则随机接入失败, UE重新进行RA. 当前参数设置sf48, 即48个子帧长度.</p>
</li>
<li>
<p>Msg3的HARQ最大传输次数, 该参数与preambleTransMax的区别, 该参数是在一次preamble码接入成功的基础上Msg3可以自动重传的次数</p>
</li>
<li>
<p>系统消息更新周期系数, n2就是2. 在UE没有得到其他通知的情况下, LTE 规定 UE存贮的系统信息的有效期为3小时. LTE中, 系统信息的改变只能在特定的系统帧上进行, 这些特定的帧满足条件: SFN帧号 mod 系统消息更新周期 = 0; 其中系统消息更新周期 = modificationPeriodCoeff * defaultPagingCycle.</p>
</li>
<li>
<p>默认的寻呼周期. 当前参数设置rf128, 即128个无线帧长度</p>
</li>
<li>
<p>默认寻呼周期的系数. oneT, 即生效的默认寻呼周期=1*默认寻呼周期</p>
</li>
<li>
<p>用于生成Signature的逻辑Za-doff序列索引, 每一个逻辑索引对应一个物理Zadoff-chu序列. 该值一般是按网络规划配置设置的. 当前参数设置为7, 对应物理Zadoff-chu序列为629.见36.211 Table 5.7.2-4</p>
</li>
<li>
<p>PRACH 配置索引, 用于指示无线帧中的PRACH时频位置, 取值范围为0 ~ 63, 不同的取值对应不同个数个PRACH信道. 对于TDD, 由于上行子帧较少, 一个subframe可以有多个PRACH, 但最多为6个. 见36.211 Table 5.7.1-2</p>
</li>
<li>
<p>高速移动小区指示. 即是否是覆盖高速移动场景, 当前参数设置为False, 表示非覆盖高速移动场景</p>
</li>
<li>
<p>零自相关区配置索引. 随机接入前导是由具有CAZAC(恒幅零自相关)的Zadoff-chu序列生成的, 通过逻辑根序列获取物理根序列, 然后对物理根序列进行循环移位获得. 零自相关区配置索引与Ncs的选择直接相关. 取值范围0～15, 当前参数设置为2, 即对应Ncs=15(无限集)或Ncs=22(有限集), 见36.211 Table 5.7.2-2</p>
</li>
<li>
<p>该参数用于广播PRACH所占用的频域资源起始位置的偏置值码当前参数设置为10, 即在第10个PRB位置</p>
</li>
<li>
<p>每逻辑天线(port)的小区参考信号功率. 下行参考信号传输功率定义为系统带宽内所有承载小区专用参考信息的资源粒子功率的线性平均.参数设置值为-10, 即RS信号功率为-10dbm</p>
</li>
<li>
<p>表示PDSCH上EPRE(Energy Per Resource Element)的功率因子比率指示, 它和天线端口共同决定了功率因子比率的值,P-b实际表征的是有RS的PDSCH符号功率与没有RS的PDSCH符号的功率偏移量 见36.213 Table 5.2-1</p>
</li>
<li>
<p>给定跳频模式下, 用于跳频的PUSCH子带个数. 该参数与跳频偏置决定了子带的大小, 而子带大小与跳频偏置, Vrb数一起决定PUSCH信道PRB的分配. 该参数设置为2, 即子带数为2.</p>
</li>
<li>
<p>PUSCH跳频模式选择. 该参数设置为interSubFrame, 表示采用子帧间跳频模式. 还有另一种模式为子帧内跳频. 不同跳频模式下pusch发送信号使用的资源块获得方式不一样</p>
</li>
<li>
<p>PUSCH信道的跳频偏移. 与FDD/TDD模式, 子帧配置, CP长度相关. 参与决定PUSCH信道资源分配.</p>
</li>
<li>
<p>上行PUSHC是否使用64QAM调制方式. CAT5类终端支持. 当前参数设置为TRUE, 表示上行支持64QAM使用.</p>
</li>
<li>
<p>是否允许组跳频. 所谓序列组跳, 是指小区在不同的时隙内, 使用不同序列组内的参考序列. 在非序列组跳转的情况下, 也就是说, 在不同的时隙内, 小区的参考序列都来自同一个参考序列组. 在PUCCH的情况下, 序列组的序号是小区的PCI模30后的余值. 其中, PCI在0到503之间取值. 对于PUSCH使用的序列组是通过SIB2中的参数"groupAssignmentPUSCH"来显式通知UE的. 这样做的目的是允许相邻的小区使用相同的参考信号根序列. 通过相同根序列的不同循环移位来使相邻小区的不同UE之间的RS相互正交. false, 则表示不支持</p>
</li>
<li>
<p>PUSCH信道的分组指派; 一个eNodeB下所有小区的GroupAssignPUSCH取0时, 这些的PUSCH上的UL RS由不同的base序列组生成, 每个小区在生成UL RS时可以使用全部的CS(Cyclic Shift)取值, 可用的CS越多, 能够支持配对的V-MIMO用户越多.</p>
</li>
<li>
<p>是否允许USCH信道的序列跳频; 当不执行Group hopping时, 允许支持sequence hopping</p>
</li>
<li>
<p>PUSCH信道的循环移位; 当一个eNodeB下的所有小区使用相同的base序列组生成PUSCH上的UL RS时, 为了保证在半静态调度时这些小区使用不同的CS(Cyclic Shift)取值, 需要为这些小区配置不同的CyclicShift取值</p>
</li>
<li>
<p>PUCCH信道的循环移位间隔. 在组网时根据环境类型获得小区的平均时延扩展, 然后根据小区的平均时延扩展得到PUCCH信道的循环移位间隔. 与硬件处理能力相关.协助计算pucch格式1, 1a, 1b时的循环移位及正交序列索引的确定.</p>
</li>
<li>
<p>表示每个时隙中可用于PUCCH格式2/2a/2b 传输的物理资源块数.RRC层给CQI配置的RB总数. 当PUCCH资源调整开关关闭时, CQI RB个数才能够进行手动配置. 参数设置为1, 表示1个RB用于承载CQI.该参数定义与36.211 5.4章节描述不一致.规范中定义为不同PUCCH格式下一个Slot可用带宽, 即RB数</p>
</li>
<li>
<p>表示的是PUCCH格式1/1a/1b和格式2/2a/2b在一个物理资源块中混合传输时格式1/1a/1b可用的循环移位数. 是delta PUCCH Shift的整数倍</p>
</li>
<li>
<p>PUCCH占用RB数索引, 表示PUCCH 使用的RB 个数.</p>
</li>
<li>
<p>PUSCH的标称P0值, 应用于上行功控过程. 与p0-NominalPUCCH含义一致</p>
</li>
<li>
<p>即α, 路径损耗补偿因子, 应用于上行功控过程. 是一个 3bit 的小区专用参数, 01代表0.1</p>
</li>
<li>
<p>正常进行PUCCH解调, eNodeB所期望的PUCCH发射功率水平; P0NominalPUCCH设置的过高, 会增加本小区的吞吐量, 但是会降低整网的吞吐量; P0NominalPUCCH设置偏低, 降低对邻区的干扰, 导致本小区的吞吐量的降低, 提高整网吞吐量.</p>
</li>
<li>
<p>PUCCH格式1的Delta值; 用于计算PUCCH信道功率, 相当于对每种PUCCH格式补偿值. 当前设置值deltaF-2, 表示-2dB</p>
</li>
<li>
<p>用于随机接入响应许可的PUSCH的功率计算. 实际值= IE value * 2 [dB],4*2=8</p>
</li>
<li>
<p>小区的上行循环前缀长度, 分为普通循环前缀和扩展循环前缀, 扩展循环前缀主要用于一些较复杂的环境, 如多径效应明显, 时延严重等. 当前参数设置为len1, 即采用扩展循环前缀.</p>
</li>
<li>
<p>RRC连接建立定时器. 开始于RRCConnectionRequest发送, 在收到RRCConnectionSetup或RRCConnectionReject消息, cell re-selection或连接放弃后停止, 定时器超时后,则认为本次 RRC 建立失败, UE直接进入RRC_IDLE态. 参数设置值为1000ms.</p>
</li>
<li>
<p>RRC连接重建定时器. UE在发送RRCConnectionReestabilshmentRequest时启动该定时器.  定时器超时前, 如果UE收到RRCConnectionReestablishment或者RRCConnectionReestablishmentReject或者被选择小区变成不适合小区(适合小区定义参见3GPP TS 36.331), 则停止该定时器. 定时器超时后, UE进入RRC_IDLE态. 参数设置为1000ms.</p>
</li>
<li>
<p>无线链路失败定时器.在收到底层连续N310个失步指示后启动, 若在定时器时间内收到连续N311个同步指示, 无线链路恢复, 否则定时器超时, 即意味着无线链路失败. 参数设置值为1000ms</p>
</li>
<li>
<p>该参数表示接收到底层的连续"失步"指示的最大数目. 改小, 可能增加重建次数, 改大可能无法及时检测到下行失步, 影响用户业务时延感受.</p>
</li>
<li>
<p>无线链路失败恢复定时器. UE 在发起 RRC 连接重建流程时启动该定时器.  定时器超时前, 如果 UE 选择了一个 EUTRAN 小区或者异系统小区后, 停止此定时器. 定时器超时后, UE 进行小区重选或者TA更新, 进入 RRC_IDLE 态. 改小此参数对掉话率有负增益. 改大此参数影响用户业务时延感受, 可以减少掉话次数.</p>
</li>
<li>
<p>附加频率散射, 限制UE功率在相应信道带宽内的水平. 即用于计算ue的上行发射功率. 这个参数对应一个Additional Maximum Power Reduction (A-MPR), 该值可以计算对应频带的上行发射功率. 该参数与Additional Maximum Power Reduction (A-MPR)的对应关系, 见 TS 36.101 Table6.2.4-1和TS 36.521 Table 6.2.4.3-1.当前参数设置值为1, 对应NS_01, 即A-MPR为NA.</p>
</li>
<li>
<p>时间调整定时器, 上行同步成功后启动, 失步后重启. 这个参数是MAC层过程参数, 是对UE上行同步状态进行维护的一个定时器. UE上行需要保持和eNodeB的同步 , 同步是利用Rach信道和过程获得的. 但是UE一次做完一次Rach, 获得同步以后, 可能由于UE, eNodeB双方的时钟偏移, 或者信道情况改变, 而又变成失步状态. 在Time Alignment Timer超时的时间内, eNodeB必需对UE的上行定时做一次调整(eNB会给UE发Timing Advance Command来调整上行同步), 或者确认, 否则UE认为上行失步, 需要重新Rand Access. 例如: 在随机接入过程的Msg2中, 基站通常会返回给UE一个TA(时间提前量), 这是为了保证Msg3的同步, sf1920, 子帧为单位, 即1920个子帧长度</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_sib3_system_information_block_3_解析">SIB3 (System Information Block 3) 解析</h3>
<div class="ulist">
<ul>
<li>
<p>SIB3包含了用于同频, 异频, 异系统间小区重选的基本共用信息</p>
</li>
<li>
<p>除临区相关信息之外的同频小区重选信息</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="title">SIB3</div>
<div class="content">
<pre>MS1
System Information Block 3                                      <b class="conum">(1)</b>

Time : 17:45:36.299
q-Hyst : dB3                                                    <b class="conum">(2)</b>
s-NonIntraSearch : 22                                           <b class="conum">(3)</b>
threshServingLow : 15                                           <b class="conum">(4)</b>
cellReselectionPriority : 7                                     <b class="conum">(5)</b>
q-RxLevMin : -60                                                <b class="conum">(6)</b>
p-Max : 23                                                      <b class="conum">(7)</b>
s-IntraSearch : 19                                              <b class="conum">(8)</b>
allowedMeasBandwidth : mbw100                                   <b class="conum">(9)</b>
presenceAntennaPort1 : False                                    <b class="conum">(10)</b>
neighCellConfig                                                 <b class="conum">(11)</b>
  Binary string (Bin) : 01
    [0 ] : 0
    [1 ] : 1
t-ReselectionEUTRA : 1                                          <b class="conum">(12)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>小区重选信息</p>
</li>
<li>
<p>小区重选迟滞. 用于作用在(在服务小区测量RSRP值上加上该值)服务小区后作为重选判决依据</p>
</li>
<li>
<p>异频搜索门限. 低于22dB开启</p>
</li>
<li>
<p>由服务频率向低优先级重选时门限. 实际值=7*2=14dB</p>
</li>
<li>
<p>小区重选优先级.Value is between 0-7 where 0 means: lowest priority.</p>
</li>
<li>
<p>小区要求的最小接收功率RSRP值[dBm], 即当UE测量小区RSRP低于该值时, UE是无法在该小区驻留的. 实际的值为: Q<sub>rxlevmin</sub> = IE value * 2, -60为-120dBm</p>
</li>
<li>
<p>同频临小区上行传输功率最大值. 如果缺省, UE采用自己的传输功率最大值.</p>
</li>
<li>
<p>If the field s-IntraSearchP is present, the UE applies the value of s-IntraSearchP instead. Otherwise if neither 09s-IntraSearch nor s-IntraSearchP is present, the UE applies the (default) value of infinity for SIntraSearchP.</p>
</li>
<li>
<p>[later]</p>
</li>
<li>
<p>[later]</p>
</li>
<li>
<p>用于提供临小区MBSFN和上下行配比信息. 00: 不是所有邻区均和当前服务小区有相同的MBSFN子帧配置. 10: 所有邻区均和当前服务小区有相同的MBSFN子帧配置. 01: 所有邻区均没有MBSFN子帧配置. 11: 相对于服务小区的UL/DL配置, 邻区中存在不同的UL/DL配置. 对于TDD, 00, 10, 01只用于服务小区和邻区的UL/DL配置相同情况.</p>
</li>
<li>
<p>EUTRA小区重选定时器, 1s</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_sib4_system_information_block_4_解析">SIB4 (System Information Block 4) 解析</h3>
<div class="ulist">
<ul>
<li>
<p>SIB4仅包含同频临小区重选信息</p>
</li>
<li>
<p>SIB4包括具有特定重选参数以及黑名单小区</p>
</li>
<li>
<p>SIB4包含的所有内容均是可选项, 因为UE可以自动探测和完成同频临小区监测</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="title">SIB4</div>
<div class="content">
<pre>MS1
System Information Block 4                                      <b class="conum">(1)</b>

Time : 10:01:27.846
intraFreqNeighCellList                                          <b class="conum">(2)</b>
  IntraFreqNeighCellList :
    [0 ] :
      physCellId : 14                                           <b class="conum">(3)</b>
      q-OffsetCell : dB0                                        <b class="conum">(4)</b>
    [1 ] :
      physCellId : 201
      q-OffsetCell : dB0</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>同频临小区重选信息</p>
</li>
<li>
<p>同频临小区重选列表, 最多16个</p>
</li>
<li>
<p>临小区ID</p>
</li>
<li>
<p>定义两小区间的偏移. Value -24 ~ +24dB</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_sib5_system_information_block_5_解析">SIB5 (System Information Block 5) 解析</h3>
<div class="ulist">
<ul>
<li>
<p>SIB5仅包含LTE异频小区重选相关的信息</p>
</li>
<li>
<p>SIB5包含普通的频率小区重选参数以及特定的小区重选参数</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="title">SIB5</div>
<div class="content">
<pre>MS1
System Information Block 5                                      <b class="conum">(1)</b>

Time : 17:45:36.299
interFreqCarrierFreqList                                        <b class="conum">(2)</b>
  InterFreqCarrierFreqList :                                    <b class="conum">(2)</b>
    [0 ] :
      dl-CarrierFreq : 38950                                    <b class="conum">(3)</b>
      q-RxLevMin : -65                                          <b class="conum">(4)</b>
      t-ReselectionEUTRA : 1                                    <b class="conum">(5)</b>
      threshX-High : 12                                         <b class="conum">(6)</b>
      threshX-Low : 11                                          <b class="conum">(7)</b>
      allowedMeasBandwidth : mbw100                             <b class="conum">(8)</b>
      presenceAntennaPort1 : False                              <b class="conum">(9)</b>
      cellReselectionPriority : 7                               <b class="conum">(10)</b>
      neighCellConfig                                           <b class="conum">(11)</b>
        Binary string (Bin) : 00
          [0 ] : 0
          [1 ] : 0</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>异频临小区重选信息</p>
</li>
<li>
<p>异频临小区重选列表,最多8个</p>
</li>
<li>
<p>异频临小区频点</p>
</li>
<li>
<p>异频临小区最小的RSRP. Value -70 ~ -22 dBm.</p>
</li>
<li>
<p>定义了小区重选时间 0 ~ 7 s</p>
</li>
<li>
<p># Threshold (in dB) used by UE for cell re-selection to a HIGHER priority #  The Srxlev of the candiate cell is greater then threshX_High # Value 0 to 31 dB. Actual value= Signaled value * 2</p>
</li>
<li>
<p># Threshold (in dB) used by UE for cell re-selection to a LOWER priority #  Cell re-selection is allowed only when Srxlev of the candiate cell is greater then threshX_Low and RSRP of serving cell is less than the value of ThreshServingLow singalled within SIB3 # Value 0 to 31 dB. Actual value= Signaled value * 2</p>
</li>
<li>
<p>异频临小区带宽</p>
</li>
<li>
<p>[later]</p>
</li>
<li>
<p>异频临小区优先级</p>
</li>
<li>
<p>用于提供临小区MBSFN和上下行配比信息. 00: 不是所有邻区均和当前服务小区有相同的MBSFN子帧配置. 10: 所有邻区均和当前服务小区有相同的MBSFN子帧配置. 01: 所有邻区均没有MBSFN子帧配置. 11: 相对于服务小区的UL/DL配置, 邻区中存在不同的UL/DL配置. 对于TDD, 00, 10, 01只用于服务小区和邻区的UL/DL配置相同情况.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_sib6_system_information_block_6_解析">SIB6 (System Information Block 6) 解析</h3>
<div class="ulist">
<ul>
<li>
<p>SIB6仅包含WCDMA小区重选信息</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sib7_system_information_block_7_解析">SIB7 (System Information Block 7) 解析</h3>
<div class="ulist">
<ul>
<li>
<p>SIB7仅包含2G小区重选信息</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sib8_system_information_block_8_解析">SIB8 (System Information Block 8) 解析</h3>

</div>
<div class="sect2">
<h3 id="_sib9_system_information_block_9_解析">SIB9 (System Information Block 9) 解析</h3>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_主要信令流程">主要信令流程</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_开机附着流程">开机附着流程</h3>
<div class="paragraph">
<p>UE刚开机时, 先进行物理下行同步, 搜索测量进行小区选择, 选择到一个合适或者可接纳的小区后, 驻留并进行附着过程. 附着流程图如下:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="diag-3424bd7d15542c8b0044dde05bd1f0f0.png" alt="diag 3424bd7d15542c8b0044dde05bd1f0f0" width="590" height="661">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>处在RRC_IDLE态的UE进行Attach过程, 首先发起随机接入过程, 即MSG1消息; <a href="#msg_radom_access_preamble">[Random Access Request]</a></p>
</li>
<li>
<p>eNB检测到MSG1消息后, 向UE发送随机接入响应消息, 即MSG2消息;<a href="#msg_radom_access_response">[Random Access Response]</a></p>
</li>
<li>
<p>UE收到随机接入响应后, 根据MSG2的TA调整上行发送时机, 向eNB发送RRCConnectionRequest消息;<a href="#msg_rrc_connection_request">[RRC Connection Request]</a></p>
</li>
<li>
<p>eNB向UE发送RRCConnectionSetup消息, 包含建立SRB1承载信息和无线资源配置信息; <a href="#msg_rrc_connection_setup">[RRC Connection Setup]</a></p>
</li>
<li>
<p>UE完成SRB1承载和无线资源配置, 向eNB发送RRCConnectionSetupComplete消息, 包含NAS层Attach request信息; <a href="#msg_rrc_connection_setup_complete">[RRC Connection Setup Complete]</a></p>
</li>
<li>
<p>eNB选择MME, 向MME发送INITIAL UE MESSAGE消息, 包含NAS层Attach request消息; <a href="#msg_initial_ue_message">[InitialUEMessage]</a></p>
</li>
<li>
<p>NAS message</p>
</li>
<li>
<p>MME向eNB发送INITIAL CONTEXT SETUP REQUEST消息, 请求建立默认承载, 包含NAS层Attach Accept, Activate default EPS bearer context request消息;<a href="#msg_initial_context_setup_req">[Inital Contest Setup Request]</a></p>
</li>
<li>
<p>eNB接收到INITIAL CONTEXT SETUP REQUEST消息, 如果不包含UE能力信息, 则eNB向UE发送UECapabilityEnquiry消息, 查询UE能力; <a href="#msg_ue_capability_enquir">[UE Capability Enquiry]</a></p>
</li>
<li>
<p>UE向eNB发送UECapabilityInformation消息, 报告UE能力信息; <a href="#msg_ue_capability_info">[UE Capability Information]</a></p>
</li>
<li>
<p>eNB向MME发送UE CAPABILITY INFO INDICATION消息, 更新MME的UE能力信息; <a href="#msg_ue_cap_info_ind">[UE Capability Info Indication]</a></p>
</li>
<li>
<p>eNB根据INITIAL CONTEXT SETUP REQUEST消息中UE支持的安全信息, 向UE发送SecurityModeCommand消息, 进行安全激活; <a href="#msg_security_mode_command">[Security Mode Command]</a></p>
</li>
<li>
<p>UE向eNB发送SecurityModeComplete消息, 表示安全激活完成;<a href="#msg_security_mode_complete">[Security Mode Complete]</a></p>
</li>
<li>
<p>eNB根据INITIAL CONTEXT SETUP REQUEST消息中的ERAB建立信息, 向UE发送RRCConnectionReconfiguration消息进行UE资源重配, 包括重配SRB1和无线资源配置, 建立SRB2, DRB(包括默认承载)等; <a href="#msg_rrc_connection_reconfig">[RRC Connection Reconfiguration]</a></p>
</li>
<li>
<p>UE向eNB发送RRCConnectionReconfigurationComplete消息, 表示资源配置完成; <a href="#msg_rrc_conn_reconfig_compl">[RRC Connection Reconfiguration Complete]</a></p>
</li>
<li>
<p>eNB向MME发送INITIAL CONTEXT SETUP RESPONSE响应消息, 表明UE上下文建立完成; <a href="#msg_inital_context_setup_rsp">[Inital Context Setup Response]</a></p>
</li>
<li>
<p>UE向eNB发送ULInformationTransfer消息, 包含NAS层Attach Complete, Activate default EPS bearer context accept消息;</p>
</li>
<li>
<p>eNB向MME发送上行直传UPLINK NAS TRANSPORT消息, 包含NAS层Attach Complete, Activate default EPS bearer context accept消息.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_随机接入">随机接入</h3>

</div>
<div class="sect2">
<h3 id="_s1初始化">S1初始化</h3>
<div class="imageblock">
<div class="content">
<img src="diag-f7baf6cbcc7efae0b96fe0a4ade92a58.png" alt="diag f7baf6cbcc7efae0b96fe0a4ade92a58" width="304" height="196">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>S1 Setup Request. <a href="#msg_s1_setup_req">[S1 Setup Request]</a></p>
</li>
<li>
<p>S1 Setup Response. <a href="#msg_s1_setup_rsp">[S1 Setup Response]</a></p>
</li>
<li>
<p>ENB Direct Information Transfer.<a href="#msg_ENB_direct_info_transfer">[ENB Direct Information Transfer]</a></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_x2初始化">X2初始化</h3>
<div class="imageblock">
<div class="content">
<img src="diag-4d7d25eaa01acfe57f3bba624c7eed75.png" alt="diag 4d7d25eaa01acfe57f3bba624c7eed75" width="358" height="227">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>X2 Setup Request. <a href="#msg_x2_setup_req">[X2 Setup Request]</a></p>
</li>
<li>
<p>X2 Setup Response. <a href="#msg_x2_setup_rsp">[X2 Setup Response]</a></p>
</li>
<li>
<p>ENB Configuration Update.<a href="#msg_ENB_config_update">[ENB Configuration Update]</a></p>
</li>
<li>
<p>ENB Configuration Update Acknowledge.<a href="#msg_ENB_config_update_ack">[ENB Configuration Update Acknowledge]</a></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_测量报告">测量报告</h3>
<div class="imageblock">
<div class="content">
<img src="diag-8ff408cacbcd077d705729a93ffcc8f8.png" alt="diag 8ff408cacbcd077d705729a93ffcc8f8" width="361" height="289">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>测量报告</p>
</li>
<li>
<p>RRC重配置, 设置添加测量报告. <a href="#msg_rrc_conn_reconfig_for_meas_add">[RRC Connection Reconfiguration]</a></p>
</li>
<li>
<p>RRC重配置完成.<a href="#msg_rrc_conn_reconfig_compl">[RRC Connection Reconfiguration Complete]</a></p>
</li>
<li>
<p>测量报告 <a href="#msg_meas_report">[Measurement Report]</a></p>
</li>
<li>
<p>RRC测量配置, 设置测量报告. <a href="#msg_rrc_conn_reconfig_for_meas_remove">[RRC Connection Reconfiguration]</a></p>
</li>
<li>
<p>RRC重配置完成.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_e_rab承载管理">E-RAB承载管理</h3>
<div class="paragraph">
<p>在CN和eNodeB上为UE建立业务通道。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="diag-e34da06a1450cbfad8c594a5951239d1.png" alt="diag e34da06a1450cbfad8c594a5951239d1" width="249" height="165">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>E-RAB Setup Request <a href="#msg_erab_setup_req">[E-RAB Setup Request]</a></p>
</li>
<li>
<p>E-RAB Setup Response &lt;&lt;, [E-RAB Setup Response]&gt;&gt;</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_x2切换">X2切换</h3>
<div class="imageblock">
<div class="content">
<img src="diag-d1c9ad2099caf85b879df5cae776306c.png" alt="diag d1c9ad2099caf85b879df5cae776306c" width="746" height="618">
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_空口信令解析">空口信令解析</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="msg_radom_access_preamble">Random Access Request</h3>
<div class="listingblock">
<div class="title">Random Access Request</div>
<div class="content">
<pre>MS1
ML1 Random Access Request

Time : 18:02:58.666
Length : 40
Log Code (Hex) : 0xB167
HW Timestamp : (71192875.00 ms) 19:46:32.875
  1.25 ms fraction : 0.00
  CFN : 0
  1.25 ms counter : 868618874300
Version : 5
Preamble Sequence : 41
Physical Root Index : 1
Cyclic Shift : 533
PRACH Tx Power : -25
Beta PRACH : 242
PRACH Frequency Offset : 10
Preamble Format : 0
Duplex Mode : TDD
Frequency Resource Index : 0
Resource reoccurring in : All Even Radio Frames
Random access resource located in : First Half Frame
UL Subframe number where preamble starts : 0
Density per 10 ms : 0.5
PRACH Timing SFN : 848
PRACH Timing Sub-fn : 2
PRACH Window Start SFN : 848
PRACH Window Start Sub-fn : 5
PRACH Window End SFN : 849
PRACH Window End Sub-fn : 5
RA RNTI : 3
PRACH Actual Tx Power : 231</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="msg_radom_access_response">Random Access Response</h3>
<div class="listingblock">
<div class="title">Random Access Response</div>
<div class="content">
<pre>MS1
ML1 Random Access Response

Time : 18:02:58.666
Length : 24
Log Code (Hex) : 0xB168
HW Timestamp : (71192886.25 ms) 19:46:32.886
  1.25 ms fraction : 0.00
  CFN : 0
  1.25 ms counter : 868618874309
Version : 1
PRACH Response Timing SFN : 848
PRACH Response Timing Sub-fn : 9
Timing Advance : 0
Timing Advance Included : Included
RACH Procedure Type : Contention Based
RACH Procedure Mode : Initial Access
RNTI Type : TEMP_C_RNTI
RNTI Value : 107</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="msg_rrc_connection_request">RRC Connection Request</h3>
<div class="paragraph">
<p>RRC连接请求. 终端由IDLE态转为CONNECT态, 或者终端有数据需要发送时, 会发送建立RRC连接的请求. 由UL_CCCH信道发送上来, 在SRB0上承载.</p>
</div>
<div class="listingblock">
<div class="title">RRC Connection Request</div>
<div class="content">
<pre>MS1
RRC Connection Request (UL-CCCH)

Time : 18:02:58.476
Vendor Header
  Length : 31
  Log Code (Hex) : 0xB0C0
  HW Timestamp : (71192783.75 ms) 19:46:32.784
    1.25 ms fraction : 0.00
    CFN : 0
    1.25 ms counter : 868618874227
  RRC Signaling Header
    Log Packet Version : 2
    RRC Release Number : 9.10.0
    Radio Bearer Id : 0
    Physical Cell Id : 2
    E-ARFCN : 39150
    System Frame Number
      System frame number : N/A
      Sub frame number : N/A
    Message Type : CcchUplink
    Message Length : 6
criticalExtensions : rrcConnectionRequest-r8
rrcConnectionRequest-r8                                         <b class="conum">(1)</b>
  ue-Identity                                                   <b class="conum">(2)</b>
    Initial UE Identity : Random Value
    Random Value : 197823733579
  establishmentCause : mo-Signalling                            <b class="conum">(3)</b>
  spare : 0                                                     <b class="conum">(4)</b>
    [0 ] : 0


Message dump (Hex):
    52 E0 F3 69 F4 B6</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>RRC连接请求, R8版本</p>
</li>
<li>
<p>UE ID, 包含randomValue和S-TMSI两种. UE接入时, 如果已经获取过TMSI, 并判断驻留cell的TA在UE的TAI list里, 即MME中保存了UE的上下文信息, 会使用TMSI作为UE ID; 其他情况使用随机数randomValue.</p>
</li>
<li>
<p>接入原因 //参考mt-Access(2)</p>
</li>
<li>
<p>预留值为以后的网络扩展做准备</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_rrc_connection_setup">RRC Connection Setup</h3>
<div class="paragraph">
<p>RRC连接建立消息包含建立SRB1承载和无线资源配置信息, 主要目的为建立SRB1, 该消息通过DL_CCCH信道发送, 承载在SRB0上.</p>
</div>
<div class="listingblock">
<div class="title">RRC Connection Setup</div>
<div class="content">
<pre>MS1
RRC Connection Setup (DL-CCCH)

rrc-TransactionIdentifier : 1                                   <b class="conum">(1)</b>
criticalExtensions : c1                                         <b class="conum">(2)</b>
c1 : rrcConnectionSetup-r8                                      <b class="conum">(3)</b>
rrcConnectionSetup-r8
  radioResourceConfigDedicated                                  <b class="conum">(4)</b>
    srb-ToAddModList
      SRB-ToAddModList :                                        <b class="conum">(5)</b>
        [0 ] :
          srb-Identity : 1                                      <b class="conum">(6)</b>
          rlc-Config : explicitValue                            <b class="conum">(7)</b>
          explicitValue
            RLC-Config : am                                     <b class="conum">(8)</b>
            ul-AM-RLC                                           <b class="conum">(9)</b>
              t-PollRetransmit : ms80                           <b class="conum">(10)</b>
              pollPDU : p128                                    <b class="conum">(11)</b>
              pollByte : kB125                                  <b class="conum">(12)</b>
              maxRetxThreshold : t16                            <b class="conum">(13)</b>
            dl-AM-RLC                                           <b class="conum">(14)</b>
              t-Reordering : ms80                               <b class="conum">(15)</b>
              t-StatusProhibit : ms15                           <b class="conum">(16)</b>
          logicalChannelConfig : explicitValue                  <b class="conum">(17)</b>
          explicitValue
            priority : 1                                        <b class="conum">(18)</b>
            prioritisedBitRate : infinity                       <b class="conum">(19)</b>
            bucketSizeDuration : ms300                          <b class="conum">(20)</b>
            logicalChannelGroup : 0                             <b class="conum">(21)</b>
    mac-MainConfig : explicitValue                              <b class="conum">(22)</b>
    explicitValue
      maxHARQ-Tx : n5                                           <b class="conum">(23)</b>
      periodicBSR-Timer : infinity                              <b class="conum">(24)</b>
      retxBSR-Timer : sf2560                                    <b class="conum">(25)</b>
      ttiBundling : False                                       <b class="conum">(26)</b>
      drx-Config
        DRX-Config : release                                    <b class="conum">(27)</b>
      timeAlignmentTimerDedicated : infinity                    <b class="conum">(28)</b>
      phr-Config : setup                                        <b class="conum">(29)</b>
      periodicPHR-Timer : sf200                                 <b class="conum">(30)</b>
      prohibitPHR-Timer : sf100                                 <b class="conum">(31)</b>
      dl-PathlossChange : dB3                                   <b class="conum">(32)</b>
    physicalConfigDedicated                                     <b class="conum">(33)</b>
      pdsch-ConfigDedicated                                     <b class="conum">(34)</b>
        p-a : dB0                                               <b class="conum">(35)</b>
      pucch-ConfigDedicated                                     <b class="conum">(36)</b>
        ackNackRepetition : release                             <b class="conum">(37)</b>
        tdd-AckNackFeedbackMode : bundling                      <b class="conum">(38)</b>
      pusch-ConfigDedicated                                     <b class="conum">(39)</b>
        betaOffset-ACK-Index : 9                                <b class="conum">(40)</b>
        betaOffset-RI-Index : 5                                 <b class="conum">(41)</b>
        betaOffset-CQI-Index : 15                               <b class="conum">(42)</b>
      uplinkPowerControlDedicated                               <b class="conum">(43)</b>
        p0-UE-PUSCH : 0                                         <b class="conum">(44)</b>
        deltaMCS-Enabled : en0                                  <b class="conum">(45)</b>
        accumulationEnabled : True                              <b class="conum">(46)</b>
        p0-UE-PUCCH : 0                                         <b class="conum">(47)</b>
        pSRS-Offset : 3                                         <b class="conum">(48)</b>
        extensionBit0 : 0                                       <b class="conum">(49)</b>
        filterCoefficient : fc0                                 <b class="conum">(50)</b>
      cqi-ReportConfig                                          <b class="conum">(51)</b>
        nomPDSCH-RS-EPRE-Offset : 0                             <b class="conum">(52)</b>
      antennaInfo : explicitValue                               <b class="conum">(53)</b>
      explicitValue
        transmissionMode : tm2                                  <b class="conum">(54)</b>
        ue-TransmitAntennaSelection : release                   <b class="conum">(55)</b>
      schedulingRequestConfig                                   <b class="conum">(56)</b>
        SchedulingRequestConfig : setup                         <b class="conum">(57)</b>
        sr-PUCCH-ResourceIndex : 0                              <b class="conum">(58)</b>
        sr-ConfigIndex : 72                                     <b class="conum">(59)</b>
        dsr-TransMax : n64                                      <b class="conum">(60)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>RRC消息ID</p>
</li>
<li>
<p>关键扩展c1 //c1是什么意思?</p>
</li>
<li>
<p>RRC连接建立, R8版本</p>
</li>
<li>
<p>无线资源配置专用</p>
</li>
<li>
<p>添加SRB</p>
</li>
<li>
<p>建立SRB1</p>
</li>
<li>
<p>?</p>
</li>
<li>
<p>SRB采用AM接收模式. 关于模式: 透明模式&#8482;, 非确认模式(UM)和确认模式(AM)</p>
</li>
<li>
<p>UE侧的上行RLC配置, 主要配置RLC数据接收侦测规则. SRB1上下行采用AM RLC模式</p>
</li>
<li>
<p>AMD PDU重传检测定时器时长. 发送端发送某个Poll的AMD PDU后, 如果在该定时器超时后, 还没有收到响应, 则重新触发Poll.</p>
</li>
<li>
<p>UE 触发Polling的PDU字节数据量门限. 轮询间隔SDU数, 该参数给出了一个触发轮询的门限值, 发送了PollSDU个SDU后触发一次轮询. 此处的p128对应为128个PDU</p>
</li>
<li>
<p>PollByte为AM PDU侦测字节数. 触发每个pollByte字节的一个轮询. 此处kB125对应125kB</p>
</li>
<li>
<p>UE AM模式RLC ARQ最大重传次数. 该参数用于配置UE,表示RLC ARQ最大重传次数,用于限制一个AM PDU的重传次数. 当等于该值时,将向高层上报不可恢复的错误,触发RRC连接重建. t16对应16次重传输.</p>
</li>
<li>
<p>UE侧的下行RLC配置, 主要配置RLC数据接收状态上报规则.</p>
</li>
<li>
<p>UE AM模式接收端重排序定时器, 用于触发RESET PDU的重传. 该参数用于配置UE,表示AM 模式接收端重排序定时器的大小. 此处ms80表示80ms.</p>
</li>
<li>
<p>UE禁止发送状态报告定时器. 该参数用于配置UE表示AM模式接收端禁止发送状态报告的定时器大小. 即在本时长内不允许上报状态报告. ms15表示15ms.</p>
</li>
<li>
<p>SRB1的逻辑信道配置</p>
</li>
<li>
<p>SRB1逻辑信道优先级, 值越小优先级越高. UE调度器按逻辑信道优先级由高到低优先速率; 所有业务优先速率保证后, 按逻辑信道优先级由高到低依次分配资源.</p>
</li>
<li>
<p>SRB1逻辑信道优先速率. UE调度器按逻辑信道优先级由高到低依次保证逻辑信道的优先速率. Infinity仅仅适用于SRB1和SRB2.</p>
</li>
<li>
<p>SRB1 bucket size调整持续时间, 300ms</p>
</li>
<li>
<p>根据业务的不同, UE可能建立大量的无线承载(radio bearer, 每个bearer对应一个逻辑信道), 如果为每一个逻辑信道上报一个BSR, 会带来大量的信令开销. 为了避免这种开销, LTE引入了LCG(Logical Channel Group)的概念, 并将每个逻辑信道放入一个LCG(共4个)中. UE基于LCG来上报BSR, 而不是为每个逻辑信道上报一个BSR. 某个逻辑信道所属的LCG是在逻辑信道建立时通过IE: LogicalChannelConfig 的logicalChannelGroup字段来设置的 . CCCH, SRB1, SRB2默认属于LCG 0</p>
</li>
<li>
<p>MAC层主要配置</p>
</li>
<li>
<p>UL HARQ的最大传输次数.</p>
</li>
<li>
<p>周期性BSR上报定时器(子帧). ENUMERATED {sf5, sf10, sf16, sf20, sf32, sf40, sf64, sf80,sf128, sf160, sf320, sf640, sf1280, sf2560,infinity, spare1},infinity表示去使能.</p>
</li>
<li>
<p>SR重传定时器(子帧).为提高BSR的健壮性, LTE提供了一个重传BSR的机制: 这是为了避免UE发送了BSR却一直没有收到UL grant的情况. eNodeB通过IE: MAC-MainConfig的retxBSR-Timer字段为UE配置了一个timer, 当该timer超时且UE的任意一个LCG的任意一个逻辑信道里有数据可以发送时, 将会触发BSR. ENUMERATED {sf320, sf640, sf1280, sf2560, sf5120,sf10240, spare2, spare1}</p>
</li>
<li>
<p>TTI捆绑只对FDD有效, 对TDD仅仅适用于配置为0, 1以及6的情况. FALSE不绑定, TURE表示TTI捆绑有效.</p>
</li>
<li>
<p>RX-Config : release</p>
</li>
<li>
<p>上行时间对齐定时器, 该参数表示UE上行时间对齐的定时器长度, 该定时器超时, 则认为UE上行失步.
取值范围: SF500(500个子帧), SF750(750个子帧), SF1280(1280个子帧), SF1920(1920个子帧), SF2560(2560个子帧), SF5120(5120个子帧), SF10240(10240个子帧), INFINITY(无穷大)</p>
</li>
<li>
<p>功率余量报告配置, PHR(power headroom report)</p>
</li>
<li>
<p>功率余量报告周期定时器</p>
</li>
<li>
<p>禁止上报功率剩余报告定时器</p>
</li>
<li>
<p>PHR报告的下行路径损耗变化. ENUMERATED {dB1, dB3, dB6, infinity}
什么时候报告功率余量? 功率余量报告定时器: 当UE有传输新数据的上行资源, prohibitPHR-Timer  超时或者已经超时且在上次传输功率余量报告之后, 路径损耗的变化值大于dl-PathlossChange dB. 触发功率余量报告(PHR); periodicPHR-Timer超时, 触发功率余量报告</p>
</li>
<li>
<p>物理层配置专用</p>
</li>
<li>
<p>PDSCH配置专用</p>
</li>
<li>
<p>PA=0 //?</p>
</li>
<li>
<p>PUCCH配置专用</p>
</li>
<li>
<p>此处"release"为清除此配置以及停止使用相关资源. 若设置为"setup", 采用相应的接收配置以及开始使用相关的资源.</p>
</li>
<li>
<p>TDD-确认非确认反馈模式 绑定模式</p>
</li>
<li>
<p>PUSCH配置专用</p>
</li>
<li>
<p>ACK随路偏置索引, 该参数表示ACK随路偏置索引. INTEGER (0..15)</p>
</li>
<li>
<p>RI随路偏置索引, 该参数表示RI随路偏置索引. INTEGER (0..15)</p>
</li>
<li>
<p>CQI随路偏置索引, 该参数表示RI随路偏置索引. INTEGER (0..15)</p>
</li>
<li>
<p>上行链路功控专用</p>
</li>
<li>
<p>INTEGER (-8..7) //?</p>
</li>
<li>
<p>根据不同MCS格式调整UE发射功率的开关. 取值范围(0:不能够; 1:能够)</p>
</li>
<li>
<p>累积使能, (0:不能够; 1:能够) //?</p>
</li>
<li>
<p>INTEGER (-8..7) //?</p>
</li>
<li>
<p>SRS相对PUSCH的功率偏置, INTEGER (0..15)</p>
</li>
<li>
<p>//?</p>
</li>
<li>
<p>RSRP滤波系数. 该参数表示UE估算路损过程中, 对RSRP测量值进行滤波的alpha滤波系数.</p>
</li>
<li>
<p>CQI配置</p>
</li>
<li>
<p>//?</p>
</li>
<li>
<p>天线配置</p>
</li>
<li>
<p>传输模式TM2, 标识UE所使用的传输模式</p>
</li>
<li>
<p>终端UE传输天线选择, Setup或release. Setup表示开环或者闭环. //?</p>
</li>
<li>
<p>调度请求配置信息</p>
</li>
<li>
<p>调度请求配置信息类型setup</p>
</li>
<li>
<p>SR PUCCH资源索引, SR(资源调度请求), BSR(上行数据缓冲域状态报告过程)根据规范BSR过程: UE在收到网络端的逻辑信道配置信息后, 根据其中的逻辑信道标识号, 优先级, 逻辑信道组等信息, 将每个逻辑信道归属于固定的逻辑信道组. BSR主要功能是向eNB报告UE端上行数据缓冲域中的数据量, 从而能够从eNB获取上行资源来传输缓冲域中的数据. MAC层触发了BSR过程之后, 如果没有传输BSR的资源则立即触发SR过程, 向eNB申请至少4字节的上行资源以便能够传输BSR及其对应的MAC字头. 两者关系可类似于一阶段接入和二阶段接入的关系.</p>
</li>
<li>
<p>//?</p>
</li>
<li>
<p>//?</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_rrc_connection_setup_complete">RRC Connection Setup Complete</h3>
<div class="listingblock">
<div class="title">RRC Connection Setup Complete</div>
<div class="content">
<pre>MS1
RRC Connection Setup Complete (UL-DCCH)

rrcConnectionSetupComplete-r8                                   <b class="conum">(1)</b>
  selectedPLMN-Identity : 1                                     <b class="conum">(2)</b>
  registeredMME                                                 <b class="conum">(3)</b>
    mmegi : 0000000000000010
    mmec
      MMEC : (0x1) : 1
  dedicatedInfoNAS                                              <b class="conum">(4)</b>
    Protocol Discriminator : 7 (EMM)
    Message Type : Attach Request
    Message Contents : 17 71 ...</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>RRC连接建立完成消息</p>
</li>
<li>
<p>指示UE选择的PLMN,如果是1, 表示在SIB1消息里面的第一个PLMN, 如果是2, 表示在SIB1消息里面的第二个PLMN. 以此类推</p>
</li>
<li>
<p>//?</p>
</li>
<li>
<p>传输UE和网络层的NAS层消息. eNB层透传此消息给MME.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_ue_capability_enquir">UE Capability Enquir</h3>
<div class="paragraph">
<p>UE能力查询请求消息, 由基站发往终端. 查询UE在不同网络的接入能力.</p>
</div>
<div class="listingblock">
<div class="title">UE Capability Enquir</div>
<div class="content">
<pre>MS1
UE Capability Enquiry (DL-DCCH)

Time : 18:02:59.486
Vendor Header
  Length : 30
  Log Code (Hex) : 0xB0C0
  HW Timestamp : (71193813.75 ms) 19:46:33.814
    1.25 ms fraction : 0.00
    CFN : 0
    1.25 ms counter : 868618875051
  RRC Signaling Header
    Log Packet Version : 2
    RRC Release Number : 9.10.0
    Radio Bearer Id : 1
    Physical Cell Id : 2
    E-ARFCN : 39150
    System Frame Number
      System frame number : N/A
      Sub frame number : N/A
    Message Type : DcchDownlink
    Message Length : 5
rrc-TransactionIdentifier : 1
criticalExtensions : c1
c1 : ueCapabilityEnquiry-r8
ueCapabilityEnquiry-r8
  ue-CapabilityRequest                                                    <b class="conum">(1)</b>
    UE-CapabilityRequest :                                                <b class="conum">(2)</b>
      [0 ] :
        extensionBit0 : 0
        Optionalitem : eutra
      [1 ] :
        extensionBit0 : 0
        Optionalitem : utra
      [2 ] :
        extensionBit0 : 0
        Optionalitem : geran-cs
      [3 ] :
        extensionBit0 : 0
        Optionalitem : geran-ps
      [4 ] :
        extensionBit0 : 0
        Optionalitem : cdma2000-1XRTT


Message dump (Hex):
    3A 10 04 8D 00</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>UE能力查询</p>
</li>
<li>
<p>UE能力查询的制式列表</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_ue_capability_info">UE Capability Information</h3>
<div class="paragraph">
<p>UE根据前一个消息会把自己的无线接入能力上报给上层网络, 并与网络MME中存储的能力进行比对更新, 以应备后续的通信服务需求.</p>
</div>
<div class="listingblock">
<div class="title">UE Capability Information</div>
<div class="content">
<pre>MS1
UE Capability Information (UL-DCCH)

Time : 18:02:59.486
Vendor Header
  Length : 53
  Log Code (Hex) : 0xB0C0
  HW Timestamp : (71193813.75 ms) 19:46:33.814
    1.25 ms fraction : 0.00
    CFN : 0
    1.25 ms counter : 868618875051
  RRC Signaling Header
    Log Packet Version : 2
    RRC Release Number : 9.10.0
    Radio Bearer Id : 1
    Physical Cell Id : 2
    E-ARFCN : 39150
    System Frame Number
      System frame number : N/A
      Sub frame number : N/A
    Message Type : DcchUplink
    Message Length : 28
rrc-TransactionIdentifier : 1
criticalExtensions : c1
c1 : ueCapabilityInformation-r8
ueCapabilityInformation-r8                                                <b class="conum">(1)</b>
  ue-CapabilityRAT-ContainerList                                          <b class="conum">(2)</b>
    UE-CapabilityRAT-ContainerList :
      [0 ] :
        extensionBit0 : 0
        RAT Type : eutra                                                  <b class="conum">(3)</b>
        UE EUTRA Capability
          extensionBit0 : 0
          accessStratumRelease : rel9                                     <b class="conum">(4)</b>
          ue-Category : 3                                                 <b class="conum">(5)</b>
          pdcp-Parameters                                                 <b class="conum">(6)</b>
            profile0x0001 : True                                          <b class="conum">(7)</b>
            profile0x0002 : True
            profile0x0003 : False
            profile0x0004 : False
            profile0x0006 : False
            profile0x0101 : False
            profile0x0102 : False
            profile0x0103 : False
            profile0x0104 : False
          phyLayerParameters                                              <b class="conum">(8)</b>
            ue-TxAntennaSelectionSupported : False                        <b class="conum">(9)</b>
            ue-SpecificRefSigsSupported : False                           <b class="conum">(10)</b>
          rf-Parameters                                                   <b class="conum">(11)</b>
            supportedBandListEUTRA                                        <b class="conum">(12)</b>
              SupportedBandListEUTRA :
                [0 ] :
                  bandEUTRA : 38                                          <b class="conum">(13)</b>
                  halfDuplex : False                                      <b class="conum">(14)</b>
                [1 ] :
                  bandEUTRA : 39
                  halfDuplex : False
                [2 ] :
                  bandEUTRA : 40
                  halfDuplex : False
          measParameters                                                  <b class="conum">(15)</b>
            bandListEUTRA                                                 <b class="conum">(16)</b>
              BandListEUTRA :
                [0 ] :
                  interFreqBandList                                       <b class="conum">(17)</b>
                    InterFreqBandList :
                      [0 ] :
                        interFreqNeedForGaps : True                       <b class="conum">(18)</b>
                      [1 ] :
                        interFreqNeedForGaps : True
                      [2 ] :
                        interFreqNeedForGaps : True
                [1 ] :
                  interFreqBandList
                    InterFreqBandList :
                      [0 ] :
                        interFreqNeedForGaps : True
                      [1 ] :
                        interFreqNeedForGaps : True
                      [2 ] :
                        interFreqNeedForGaps : True
                [2 ] :
                  interFreqBandList
                    InterFreqBandList :
                      [0 ] :
                        interFreqNeedForGaps : True
                      [1 ] :
                        interFreqNeedForGaps : True
                      [2 ] :
                        interFreqNeedForGaps : True
          Feature Group Indicators
            Contents (hex) : 7E0DD880                                     <b class="conum">(19)</b>
            1 : NO : PUSCH intra-subframe hopping, DCI format 3a, TM5, Aperiodic CQI reporting mode 2-0 and 2-2
            2 : YES : PUCCH format 2a and 2b, Absolute TPC commands for PUSCH, Resource allocation type 1 for PDSCH, Periodic CQI reporting mode 2-0 and 2-1
            3 : YES : 5bit RLC UM SN, 7bit PDCP SN
            4 : YES : Short DRX cycle
            5 : YES : Long DRX cycle, DRX command MAC control element
            6 : YES : Prioritised bit rate
            7 : YES : RLC UM
            8 : NO : EUTRA RRC_CONNECTED to UTRA CELL_DCH PS handover
            9 : N/A : EUTRA RRC_CONNECTED to GERAN GSM_Dedicated handover
            10 : NO : EUTRA RRC_CONNECTED to GERAN (Packet_) Idle by Cell Change Order with or without NACC
            11 : N/A : EUTRA RRC_CONNECTED to CDMA2000 1xRTT CS Active handover
            12 : N/A : EUTRA RRC_CONNECTED to CDMA2000 HRPD Active handover
            13 : YES : Inter-frequency handover (within FDD or TDD)
            14 : YES : Measurement reporting event A4 (Neighbour &gt; threshold) and A5 (Serving &lt; threshold1 &amp; Neighbour &gt; threshold2)
            15 : N/A : Measurement reporting event B1 (Neighbour &gt; threshold)
            16 : YES : Non-ANR related periodical measurement reporting intra-frequency, inter-frequency (if applicable) and inter-RAT (if applicable)
            17 : YES : Periodical measurement reporting for SON/ANR, ANR related intra-frequency measurement reporting events
            18 : YES : ANR related inter-frequency measurement reporting events
            19 : NO : ANR related inter-RAT measurement reporting events
            20 : YES : Support for SRB1 and SRB2 for DCCH + 8x AM DRB and DCCH + 5x AM DRB + 3x UM DRB
            21 : YES : Predefined intra- and/or inter-subframe frequency hopping for PUSCH with N_sb &gt; 1
            22 : NO : UTRAN measurements, reporting and measurement reporting event B2 in E-UTRA connected mode
            23 : NO : GERAN measurements, reporting and measurement reporting event B2 in E-UTRA connected mode
            24 : NO : 1xRTT measurements, reporting and measurement reporting event B2 in E-UTRA connected mode
            25 : YES : Inter-frequency measurements and reporting in E-UTRA connected mode
            26 : NO : HRPD measurements and reporting in E-UTRA connected mode
            27 : N/A : EUTRA RRC_CONNECTED to UTRA CELL_DCH CS handover
            28 : NO : TTI bundling
            29 : NO : Semi-Persistent Scheduling
            30 : NO : Handover between FDD and TDD
          nonCriticalExtension                                            <b class="conum">(20)</b>
            phyLayerParameters-v920                                       <b class="conum">(21)</b>
            interRAT-ParametersGERAN-v920                                 <b class="conum">(22)</b>
            csg-ProximityIndicationParameters-r9                          <b class="conum">(23)</b>
            neighCellSI-AcquisitionParameters-r9                          <b class="conum">(24)</b>
            son-Parameters-r9                                             <b class="conum">(25)</b>
            nonCriticalExtension
              octets : 80 00 00 00 00


Message dump (Hex):
    3A 01 01 8C 51 80 02 95 32 70
    40 B8 2E 0B BF 06 EC 40 00 10
    01 02 C0 00 00 00 00 00</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>UE能力信息</p>
</li>
<li>
<p>UE支持网络制式的列表, 该列表中优先介绍LTE的支持能力, 然后介绍是否包含3G能力, 如果包含就会介绍, 最后介绍包含2G的能力.</p>
</li>
<li>
<p>系统类型 - 支持EUTRAN系统</p>
</li>
<li>
<p>UE使用的协议版本, R8/9/10</p>
</li>
<li>
<p>UE能力等级, 协议规定取值范围1～5, 一般商用终端为CAT3(E392等)或CAT4(E5375), 本UE支持CAT3. UE能力级详见[later]</p>
</li>
<li>
<p>UE PDCP层参数</p>
</li>
<li>
<p>Profile: 在ROHC的框架下, 针对不同的协议的数据流, 有不同的头部压缩算法. Profile定义了针对特定协议层数据流的压缩方式. Profile ID用于标识Profile. Profile ID为0x0000表示不压缩. 如果信令中有这一条:  maxNumberROHC-ContextSessions --- cs2(0)表示为UE支持的并发激活ROHC 上下文的最大数量. CS2表示2个上下文. 如果终端不支持ROHC profiles,网络侧会忽略此值.</p>
</li>
<li>
<p>UE物理层参数</p>
</li>
<li>
<p>该值如果为TURE, 则表示UE有能力支持TS 36.213[8.7]中所描述的UE传输天线选择. FALSE则表示能力不支持该传输天线选择. 参见 <a href="http://www.sharetechnote.com/html/Handbook_LTE_UeTxAntennaSelection.html">UE Transmission Antenna Selection</a></p>
</li>
<li>
<p>标识是否支持UE特定参考信号. 该信号在天线端口5上传输. FALSE表示不支持</p>
</li>
<li>
<p>UE RF参数</p>
</li>
<li>
<p>支持的带宽表,本表表示支持38,  39, 40频段.</p>
</li>
<li>
<p>支持频段38</p>
</li>
<li>
<p>半双工标识. 如果为TURE那么该频带仅支持半双工操作, 否则支持全双工操作. 此条消息表示支持全双工操作.</p>
</li>
<li>
<p>测量参数</p>
</li>
<li>
<p>条目列表, 对应于每一个支持 EUTRA 频带, 其排列的顺序与supportedEUTRA-BandList.的排列顺序一样.</p>
</li>
<li>
<p>支持异频测量的列表</p>
</li>
<li>
<p>表示当在bandListEUTRA以及在interFreqBandList 中所给出的E-UTRA 频带上进行测量时, 是否需要测量间隔. TRUE表示需要测量间隔.</p>
</li>
<li>
<p>功能组指示, 每个BIT表示一个功能, 共32bit, 具体的定义可以参考36331协议的Table B.1-1: Definitions of feature group indicators</p>
</li>
<li>
<p>非关键扩展参数</p>
</li>
<li>
<p>R9协议新增的物理层能力参数</p>
</li>
<li>
<p>R9协议新增的GERAN异系统互操作参数</p>
</li>
<li>
<p>R9协议新增的CSG(关闭用户组)接入指示参数. 只有归属于该CSG的用户才允许接入该小区.</p>
</li>
<li>
<p>邻区系统消息获得参数.</p>
</li>
<li>
<p>R9协议新增的SON能力参数</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_security_mode_command">Security Mode Command</h3>
<div class="listingblock">
<div class="title">Security Mode Command</div>
<div class="content">
<pre>MS1
Security Mode Command

Time : 18:02:59.379
Vendor Header
  Length : 25
  Log Code (Hex) : 0xB0EC
  HW Timestamp : (71193708.75 ms) 19:46:33.709
    1.25 ms fraction : 0.00
    CFN : 0
    1.25 ms counter : 868618874967
Protocol Discriminator : (7) EPS mobility management messages
Security Header Type : 0
Message Type : 93
Selected NAS Security Algorithms
  Type Of Ciphering Algorithm : (0) EPS encryption algorithm EEA0 (ciphering not used)  <b class="conum">(1)</b>
  Type Of Integrity Protection Algorithm : (1) EPS integrity algorithm 128-EIA1  <b class="conum">(2)</b>
NAS Key Set Identifier
  TSC : (0) Native security context
  NAS Key Set Identifier : 0
Replayed UE Security Capabilities
  Length : 4
  EPS encryption algorithm EEA0 : Supported
  EPS encryption algorithm 128EEA1 : Supported
  EPS encryption algorithm 128EEA2 : Supported
  EPS encryption algorithm EEA3 : Not supported
  EPS encryption algorithm EEA4 : Not supported
  EPS encryption algorithm EEA5 : Not supported
  EPS encryption algorithm EEA6 : Not supported
  EPS encryption algorithm EEA7 : Not supported
  EPS integrity algorithm EIA0 : Supported
  EPS integrity algorithm 128EIA1 : Supported
  EPS integrity algorithm 128EIA2 : Supported
  EPS integrity algorithm EIA3 : Supported
  EPS integrity algorithm EIA4 : Not supported
  EPS integrity algorithm EIA5 : Not supported
  EPS integrity algorithm EIA6 : Not supported
  EPS integrity algorithm EIA7 : Not supported
  UMTS encryption algorithm UEA0 : Not supported
  UMTS encryption algorithm UEA1 : Not supported
  UMTS encryption algorithm UEA2 : Not supported
  UMTS encryption algorithm UEA3 : Not supported
  UMTS encryption algorithm UEA4 : Not supported
  UMTS encryption algorithm UEA5 : Not supported
  UMTS encryption algorithm UEA6 : Not supported
  UMTS encryption algorithm UEA7 : Not supported
  UMTS integrity algorithm UIA1 : Not supported
  UMTS integrity algorithm UIA2 : Not supported
  UMTS integrity algorithm UIA3 : Not supported
  UMTS integrity algorithm UIA4 : Not supported
  UMTS integrity algorithm UIA5 : Not supported
  UMTS integrity algorithm UIA6 : Not supported
  UMTS integrity algorithm UIA7 : Not supported


Message dump (Hex):
    07 5D 01 00 04 E0 F0 00 00</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>加密算法, 对SRB和DRB都有效,  R9协议规定eea2表示AES算法, EEA1表示snow 3G算法, EEA0表示为NULL; R8协议未对空算法进行定义和设置标志位. , 当前采用的是EEA0.</p>
</li>
<li>
<p>完整性保护算法, 仅对SRB生效, 协议规定EIA2表示AES算法, EIA1表示snow 3G算法. UE协议版本R9是EIA0-v920为空算法加密; R8协议的spare(7)为空算法加密. UE会首先验证本条SecurityModeCommand 消息的完整性保护.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_security_mode_complete">Security Mode Complete</h3>
<div class="listingblock">
<div class="title">Security Mode Complete</div>
<div class="content">
<pre>MS1
Security Mode Complete

Time : 18:02:59.380
Vendor Header
  Length : 24
  Log Code (Hex) : 0xB0ED
  HW Timestamp : (71193711.25 ms) 19:46:33.711
    1.25 ms fraction : 0.00
    CFN : 0
    1.25 ms counter : 868618874969
Protocol Discriminator : (7) EPS mobility management messages
Security Header Type : 0
Message Type : 94

Message dump (Hex):
    07 5E 00 00 00 00 00 00</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="msg_rrc_connection_reconfig">RRC Connection Reconfiguration</h3>
<div class="listingblock">
<div class="title">RRC Connection Reconfiguration</div>
<div class="content">
<pre>MS1
RRC Connection Reconfiguration (DL-DCCH)

Time : 18:02:59.504
Vendor Header
  Length : 220
  Log Code (Hex) : 0xB0C0
  HW Timestamp : (71193845.00 ms) 19:46:33.845
    1.25 ms fraction : 0.00
    CFN : 0
    1.25 ms counter : 868618875076
  RRC Signaling Header
    Log Packet Version : 2
    RRC Release Number : 9.10.0
    Radio Bearer Id : 1
    Physical Cell Id : 2
    E-ARFCN : 39150
    System Frame Number
      System frame number : N/A
      Sub frame number : N/A
    Message Type : DcchDownlink
    Message Length : 195
rrc-TransactionIdentifier : 1
criticalExtensions : c1
c1 : rrcConnectionReconfiguration-r8
rrcConnectionReconfiguration-r8                                           <b class="conum">(1)</b>
  measConfig                                                              <b class="conum">(2)</b>
    measObjectToAddModList
      MeasObjectToAddModList :
        [0 ] :
          measObjectId : 1
          measObject : measObjectEUTRA
          measObjectEUTRA
            carrierFreq : 39150
            allowedMeasBandwidth : mbw100
            presenceAntennaPort1 : False
            neighCellConfig
              Binary string (Bin) : 00
                [0 ] : 0
                [1 ] : 0
    reportConfigToAddModList                                              <b class="conum">(3)</b>
      ReportConfigToAddModList :
        [0 ] :
          reportConfigId : 1
          reportConfig : reportConfigEUTRA
          reportConfigEUTRA
            triggerType : event
            eventId : eventA1
            a1-Threshold
              ThresholdEUTRA : threshold-RSRP
              threshold-RSRP : 52
            hysteresis : 1
            timeToTrigger : ms40
            triggerQuantity : rsrp
            reportQuantity : sameAsTriggerQuantity
            maxReportCells : 8
            reportInterval : ms640
            reportAmount : r8
        [1 ] :
          reportConfigId : 2
          reportConfig : reportConfigEUTRA
          reportConfigEUTRA
            triggerType : event
            eventId : eventA2
            a2-Threshold
              ThresholdEUTRA : threshold-RSRP
              threshold-RSRP : 51
            hysteresis : 1
            timeToTrigger : ms40
            triggerQuantity : rsrp
            reportQuantity : sameAsTriggerQuantity
            maxReportCells : 8
            reportInterval : ms640
            reportAmount : r8
        [2 ] :
          reportConfigId : 3
          reportConfig : reportConfigEUTRA
          reportConfigEUTRA
            triggerType : event
            eventId : eventA1
            a1-Threshold
              ThresholdEUTRA : threshold-RSRQ
              threshold-RSRQ : 32
            hysteresis : 1
            timeToTrigger : ms40
            triggerQuantity : rsrq
            reportQuantity : sameAsTriggerQuantity
            maxReportCells : 8
            reportInterval : ms640
            reportAmount : r8
        [3 ] :
          reportConfigId : 4
          reportConfig : reportConfigEUTRA
          reportConfigEUTRA
            triggerType : event
            eventId : eventA2
            a2-Threshold
              ThresholdEUTRA : threshold-RSRQ
              threshold-RSRQ : 1
            hysteresis : 1
            timeToTrigger : ms40
            triggerQuantity : rsrq
            reportQuantity : sameAsTriggerQuantity
            maxReportCells : 8
            reportInterval : ms640
            reportAmount : r8
    measIdToAddModList                                                    <b class="conum">(4)</b>
      MeasIdToAddModList :
        [0 ] :
          measId : 1
          measObjectId : 1
          reportConfigId : 1
        [1 ] :
          measId : 2
          measObjectId : 1
          reportConfigId : 2
        [2 ] :
          measId : 3
          measObjectId : 1
          reportConfigId : 3
        [3 ] :
          measId : 4
          measObjectId : 1
          reportConfigId : 4
    quantityConfig                                                        <b class="conum">(5)</b>
      quantityConfigEUTRA
        extensionBit1 : 0
        filterCoefficientRSRQ : fc6
    s-Measure : 0                                                         <b class="conum">(6)</b>
  dedicatedInfoNASList :                                                  <b class="conum">(7)</b>
    [0 ] :
      Protocol Discriminator : 7 (EMM)
      Message Type : Attach Accept
      Message Contents : 27 DA ...
  radioResourceConfigDedicated                                            <b class="conum">(8)</b>
    srb-ToAddModList
      SRB-ToAddModList :                                                  <b class="conum">(9)</b>
        [0 ] :
          srb-Identity : 2                                                <b class="conum">(10)</b>
          rlc-Config : explicitValue
          explicitValue
            RLC-Config : am                                               <b class="conum">(11)</b>
            ul-AM-RLC                                                     <b class="conum">(12)</b>
              t-PollRetransmit : ms15                                     <b class="conum">(13)</b>
              pollPDU : p128                                              <b class="conum">(14)</b>
              pollByte : kB125                                            <b class="conum">(15)</b>
              maxRetxThreshold : t16                                      <b class="conum">(16)</b>
            dl-AM-RLC                                                     <b class="conum">(17)</b>
              t-Reordering : ms80                                         <b class="conum">(18)</b>
              t-StatusProhibit : ms15                                     <b class="conum">(19)</b>
          logicalChannelConfig : explicitValue                            <b class="conum">(20)</b>
          explicitValue
            priority : 3                                                  <b class="conum">(21)</b>
            prioritisedBitRate : infinity                                 <b class="conum">(22)</b>
            bucketSizeDuration : ms300                                    <b class="conum">(23)</b>
            logicalChannelGroup : 0                                       <b class="conum">(24)</b>
    drb-ToAddModList                                                      <b class="conum">(25)</b>
      DRB-ToAddModList :
        [0 ] :                                                            <b class="conum">(26)</b>
          eps-BearerIdentity : 5                                          <b class="conum">(27)</b>
          drb-Identity : 3                                                <b class="conum">(28)</b>
          pdcp-Config                                                     <b class="conum">(29)</b>
            discardTimer : infinity                                       <b class="conum">(30)</b>
            statusReportRequired : True                                   <b class="conum">(31)</b>
            headerCompression : notUsed                                   <b class="conum">(32)</b>
          rlc-Config                                                      <b class="conum">(33)</b>
            RLC-Config : am                                               <b class="conum">(34)</b>
            ul-AM-RLC                                                     <b class="conum">(35)</b>
              t-PollRetransmit : ms80                                     <b class="conum">(36)</b>
              pollPDU : p128                                              <b class="conum">(37)</b>
              pollByte : kB125                                            <b class="conum">(38)</b>
              maxRetxThreshold : t1                                       <b class="conum">(39)</b>
            dl-AM-RLC                                                     <b class="conum">(40)</b>
              t-Reordering : ms5                                          <b class="conum">(41)</b>
              t-StatusProhibit : ms60                                     <b class="conum">(42)</b>
          logicalChannelIdentity : 3                                      <b class="conum">(43)</b>
          logicalChannelConfig                                            <b class="conum">(44)</b>
            priority : 7                                                  <b class="conum">(45)</b>
            prioritisedBitRate : kBps8                                    <b class="conum">(46)</b>
            bucketSizeDuration : ms300                                    <b class="conum">(47)</b>
            logicalChannelGroup : 3                                       <b class="conum">(48)</b>
    mac-MainConfig : explicitValue                                        <b class="conum">(49)</b>
    explicitValue
      maxHARQ-Tx : n5                                                     <b class="conum">(50)</b>
      periodicBSR-Timer : sf5                                             <b class="conum">(51)</b>
      retxBSR-Timer : sf320                                               <b class="conum">(52)</b>
      ttiBundling : False                                                 <b class="conum">(53)</b>
      drx-Config
        DRX-Config : release                                              <b class="conum">(54)</b>
      timeAlignmentTimerDedicated : infinity                              <b class="conum">(55)</b>
      phr-Config : setup                                                  <b class="conum">(56)</b>
      periodicPHR-Timer : sf200                                           <b class="conum">(57)</b>
      prohibitPHR-Timer : sf100                                           <b class="conum">(58)</b>
      dl-PathlossChange : dB3                                             <b class="conum">(59)</b>
    physicalConfigDedicated                                               <b class="conum">(60)</b>
      pdsch-ConfigDedicated                                               <b class="conum">(61)</b>
        p-a : dB0                                                         <b class="conum">(62)</b>
      pucch-ConfigDedicated                                               <b class="conum">(63)</b>
        ackNackRepetition : release                                       <b class="conum">(64)</b>
        tdd-AckNackFeedbackMode : bundling                                <b class="conum">(65)</b>
      pusch-ConfigDedicated                                               <b class="conum">(66)</b>
        betaOffset-ACK-Index : 9                                          <b class="conum">(67)</b>
        betaOffset-RI-Index : 5                                           <b class="conum">(68)</b>
        betaOffset-CQI-Index : 15                                         <b class="conum">(69)</b>
      uplinkPowerControlDedicated                                         <b class="conum">(70)</b>
        p0-UE-PUSCH : 0                                                   <b class="conum">(71)</b>
        deltaMCS-Enabled : en0                                            <b class="conum">(72)</b>
        accumulationEnabled : True                                        <b class="conum">(73)</b>
        p0-UE-PUCCH : 0                                                   <b class="conum">(74)</b>
        pSRS-Offset : 3                                                   <b class="conum">(75)</b>
        extensionBit0 : 0                                                 <b class="conum">(76)</b>
        filterCoefficient : fc0                                           <b class="conum">(77)</b>
      tpc-PDCCH-ConfigPUCCH                                               <b class="conum">(78)</b>
        TPC-PDCCH-Config : setup                                          <b class="conum">(79)</b>
        tpc-RNTI : 0000000101101000                                       <b class="conum">(80)</b>
        tpc-Index                                                         <b class="conum">(81)</b>
          TPC-Index : indexOfFormat3                                      <b class="conum">(82)</b>
          indexOfFormat3 : 1                                              <b class="conum">(83)</b>
      cqi-ReportConfig                                                    <b class="conum">(84)</b>
        nomPDSCH-RS-EPRE-Offset : 0                                       <b class="conum">(85)</b>
        cqi-ReportPeriodic                                                <b class="conum">(86)</b>
          CQI-ReportPeriodic : setup                                      <b class="conum">(87)</b>
          cqi-PUCCH-ResourceIndex : 23                                    <b class="conum">(88)</b>
          cqi-pmi-ConfigIndex : 38                                        <b class="conum">(89)</b>
          cqi-FormatIndicatorPeriodic : widebandCQI                       <b class="conum">(90)</b>
          ri-ConfigIndex : 654                                            <b class="conum">(91)</b>
          simultaneousAckNackAndCQI : True                                <b class="conum">(92)</b>
      antennaInfo : explicitValue                                         <b class="conum">(93)</b>
      explicitValue
        transmissionMode : tm3                                            <b class="conum">(94)</b>
        codebookSubsetRestriction : n2TxAntenna-tm3                       <b class="conum">(95)</b>
        n2TxAntenna-tm3 : 11                                              <b class="conum">(96)</b>
        ue-TransmitAntennaSelection : release                             <b class="conum">(97)</b>
      schedulingRequestConfig                                             <b class="conum">(98)</b>
        SchedulingRequestConfig : setup                                   <b class="conum">(99)</b>
        sr-PUCCH-ResourceIndex : 0                                        <b class="conum">(100)</b>
        sr-ConfigIndex : 72                                               <b class="conum">(101)</b>
        dsr-TransMax : n64                                                <b class="conum">(102)</b>

Message dump (Hex):
    75 43 40 02 44 ...</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>RRC连接重配置</p>
</li>
<li>
<p>测量配置, 详见[later]</p>
</li>
<li>
<p>添加/修改报告配置, 详见[later]</p>
</li>
<li>
<p>要添加或修改的测量标识列表,详见[later]</p>
</li>
<li>
<p>quantityConfig</p>
</li>
<li>
<p>s-Measure</p>
</li>
<li>
<p>dedicatedInfoNASList</p>
</li>
<li>
<p>线资源配置专用</p>
</li>
<li>
<p>SRB增加模式列表</p>
</li>
<li>
<p>增加SRB2, SRB2: 用于传传NAS消息的, 它必须在安全激活后才能被建立起来. 确保信令的安全性. SRB1是传送RRC信令的, 在SRB2建立前也传NAS消息, SRB2建立后SRB1就只用于传RRC信令了. 重配置等消息就是在SRB1上传送的.</p>
</li>
<li>
<p>SRB为保证信令的正确接收配置为AM模式</p>
</li>
<li>
<p>UL-AM-RLC为针对UE侧的上行RLC配置, 主要配置RLC数据接收侦测规则.</p>
</li>
<li>
<p>AM PDU重传检测定时器时长.</p>
</li>
<li>
<p>UE触发Polling的PDU字节数据量门限. 此处配置为128</p>
</li>
<li>
<p>PollByte为AMD PDU侦测字节数. 此处配置为kB.</p>
</li>
<li>
<p>UE AM模式RLC ARQ最大重传次数. 该参数用于配置UE, 表示RLC ARQ最大重传次数, 用于限制AM PDU的重传次数. 达到最大重传次数时会触发RRC连接重建.</p>
</li>
<li>
<p>下行确认RLC模式</p>
</li>
<li>
<p>UE AM模式接收端重排序定时器. 该参数用于配置UE, 表示AM模式接收端重排序定时器的大小.</p>
</li>
<li>
<p>UE禁止发送状态报告定时器. 该参数用于配置UE, 表示AM模式接收端禁止发送状态报告的定时器大小. 即在本时长内不允许上报状态报告.</p>
</li>
<li>
<p>SRB2的逻辑信道配置</p>
</li>
<li>
<p>SRB2优先级</p>
</li>
<li>
<p>SRB2逻辑信道优先速率</p>
</li>
<li>
<p>SRB2 bucket size调整持续时间 //?</p>
</li>
<li>
<p>SRB2逻辑信道组</p>
</li>
<li>
<p>DRB增加模式列表</p>
</li>
<li>
<p>添加第一个DRB列表</p>
</li>
<li>
<p>由MME分配, 端到端的承载, 即erab ID为5. 建立了erab 和 DRB的关系</p>
</li>
<li>
<p>DRB的ID, 由eNB分配, 无线侧数据承载</p>
</li>
<li>
<p>指定了该DRB的PDCP层处理配置</p>
</li>
<li>
<p>PDCP层丢弃定时器,根据QCI的不同设置值不同, 比如QCI6/8/9是无限长, QCI2/7是150ms. 此处为无限大</p>
</li>
<li>
<p>AM模式切换时PDCP状态报告反馈指示. 如果配置为False, 目标eNodeB将传输所有源eNodeB转发的数据, 其中某些数据UE可能已收到, 造成空口资源的浪费. 如果为TRUE需要发一个状态报告.</p>
</li>
<li>
<p>头压缩, 一般只在VoIP, 视频类的业务中才会根据eNB侧的配置决定是否启用. 该值默认关闭.</p>
</li>
<li>
<p>指定了该DRB在RLC处理配置</p>
</li>
<li>
<p>AM确认模式</p>
</li>
<li>
<p>上行RLC确认模式, 针对UE侧的配置</p>
</li>
<li>
<p>UE Polling PDU重传定时器大小. 该定时器设置过小会触发过多的Polling PDU, 且连续多次触发PDU重传使ARQ重传达到最大次数, 从而导致RRC重建; 设置过大会导致状态报告不能及时的反馈. 40ms(QCI4/5/6/8/9)</p>
</li>
<li>
<p>UE 触发Polling的PDU字节数据量门限. 表示触发Polling的PDU数据量门限. 当PDU发送数据量达到该值时, 将在PDU头部设置Poll标志位. (满足个数或字节数其中一个条件就会启动POLL机制). 该参数是发送端为了防止等待确认队列太长导致缓冲区溢出, 根据发送PDU的数据量主动触发状态报告. 取值过小可能增加Polling PDU的触发次数; 取值过大则缓冲占用越大, 且会减慢发送窗的移动.</p>
</li>
<li>
<p>PollByte为AMD PDU侦测字节数.</p>
</li>
<li>
<p>UE AM模式RLC ARQ最大重传次数. 该参数用于配置UE, 表示RLC ARQ最大重传次数, 用于限制AM PDU的重传次数. 达到最大重传次数时会触发RRC连接重建. 32(QCI4/5/6/8/9)</p>
</li>
<li>
<p>为针对UE侧的下行RLC配置, 主要配置RLC数据接收状态上报规则.</p>
</li>
<li>
<p>UE AM模式接收端重排序定时器.
如果该定时器配置较小, 则导致发送端无效的HARQ重传及接收端触发重复的状态报告, 浪费资源; 如果配置过大, 则导致接收端判断乱序包传输失败延时较大, 不能及时的触发状态报告, 从而造成业务延时和吞吐量下降. 默认50ms</p>
</li>
<li>
<p>UE禁止发送状态报告定时器. 即在本时长内不允许上报状态报告. 该定时器影响AM模式下状态报告的发送. 如果状态报告发送不频繁, 可以减少状态报告的频繁调度, 但容易导致发送端发送窗口为0, 降低发送速率; 如发送频繁, 则可以保证发送端发送窗口数据及时得到确认, 保证发送速率, 但容易导致数据状态报告的频繁调度和重复发送, 浪费资源. 默认值50ms</p>
</li>
<li>
<p>对应逻辑信道ID</p>
</li>
<li>
<p>DRB逻辑信道配置</p>
</li>
<li>
<p>逻辑信道优先级. UE调度器按逻辑信道优先级由高到低依次保证逻辑信道的优先速率; 所有业务优先速率保证后, 按逻辑信道优先级由高到低分配资源, 仅在QCI为6, 7, 8, 9时该参数有效. 取值范围9 ~ 16, 默认值QCI6:9; QCI7:10; QCI8:11; QCI9:12</p>
</li>
<li>
<p>逻辑信道优先速率. UE调度器按逻辑信道优先级由高到低保证逻辑信道的优先速率, 仅在QCI为2, 3, 4, 6, 7, 8, 9时有效. PBR_8_KBps(8千字节/秒)</p>
</li>
<li>
<p>bucket size调整持续时间</p>
</li>
<li>
<p>逻辑信道组. CCCH, SRB1, SRB2默认属于LCG 0; RRC消息在SRB上传输且SRB默认属于LCG 0, 比LCG 2的优先级要高.</p>
</li>
<li>
<p>MAC层配置</p>
</li>
<li>
<p>maxHARQ-Tx : n5</p>
</li>
<li>
<p>periodicBSR-Timer</p>
</li>
<li>
<p>retxBSR-Timer</p>
</li>
<li>
<p>ttiBundling</p>
</li>
<li>
<p>DRX-Config</p>
</li>
<li>
<p>timeAlignmentTimerDedicated</p>
</li>
<li>
<p>phr-Config</p>
</li>
<li>
<p>periodicPHR-Timer</p>
</li>
<li>
<p>prohibitPHR-Timer</p>
</li>
<li>
<p>dl-PathlossChange</p>
</li>
<li>
<p>物理信道配置专用, 此过程与RRC建立消息里相似, 以下字段大家可以参看前面的消息, 此不复述.</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>CQI-PUCCH资源索引</p>
</li>
<li>
<p>CQI-PMI配置索引, 确定上报周期NP和偏移量NOFFSET.</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>确认非确认及CQI是否同时, PUCCH CQI 反馈类型, 取决于传输模式. FALSE为不同时.</p>
</li>
<li>
<p>天线信息</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>终端UE传输天线选择, Setup或release. Setup表示开环或者闭环.</p>
</li>
<li>
<p>调度请求配置</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>sr-PUCCH资源索引</p>
</li>
<li>
<p>SR配置索引参数Isr</p>
</li>
<li>
<p>SR传输最大次数, 当超过最大次数时, 通知RRC释放PUCCH/SRS, 发起一次随机接入过程. 本消息表明最大次数为64次.</p>
</li>
</ol>
</div>
<div id="msg_rrc_conn_reconfig_compl" class="paragraph">
<p>===
.RRC Connection Reconfiguration Complete</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MS1
RRC Connection Reconfiguration Complete (UL-DCCH)

Time : 18:03:09.170
Vendor Header
  Length : 27
  Log Code (Hex) : 0xB0C0
  HW Timestamp : (71203491.25 ms) 19:46:43.491
    1.25 ms fraction : 0.00
    CFN : 0
    1.25 ms counter : 868618882793
  RRC Signaling Header
    Log Packet Version : 2
    RRC Release Number : 9.10.0
    Radio Bearer Id : 1
    Physical Cell Id : 2
    E-ARFCN : 39150
    System Frame Number
      System frame number : N/A
      Sub frame number : N/A
    Message Type : DcchUplink
    Message Length : 2
rrc-TransactionIdentifier : 1
criticalExtensions : rrcConnectionReconfigurationComplete-r8
rrcConnectionReconfigurationComplete-r8</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="msg_rrc_conn_reconfig_for_meas_add">RRC Connection Reconfiguration for add Measurement</h3>
<div class="listingblock">
<div class="title">RRC Connection Reconfiguration</div>
<div class="content">
<pre>MS1
RRC Connection Reconfiguration (DL-DCCH)

rrcConnectionReconfiguration-r8
  measConfig                                                              <b class="conum">(1)</b>
    reportConfigToAddModList                                              <b class="conum">(2)</b>
      ReportConfigToAddModList :
        [0 ] :
          reportConfigId : 7                                              <b class="conum">(3)</b>
          reportConfig : reportConfigEUTRA                                <b class="conum">(4)</b>
          reportConfigEUTRA
            triggerType : periodical                                      <b class="conum">(5)</b>
            purpose : reportStrongestCells                                <b class="conum">(6)</b>
            triggerQuantity : rsrp                                        <b class="conum">(7)</b>
            reportQuantity : both                                         <b class="conum">(8)</b>
            maxReportCells : 8                                            <b class="conum">(9)</b>
            reportInterval : ms240                                        <b class="conum">(10)</b>
            reportAmount : infinity                                       <b class="conum">(11)</b>
    measIdToAddModList
      MeasIdToAddModList :                                                <b class="conum">(12)</b>
        [0 ] :
          measId : 7                                                      <b class="conum">(13)</b>
          measObjectId : 1                                                <b class="conum">(14)</b>
          reportConfigId : 7                                              <b class="conum">(15)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>测量配置相关模块</p>
</li>
<li>
<p>测量任务标识添加列表, 添加测量报告</p>
</li>
<li>
<p>测量报告配置ID号</p>
</li>
<li>
<p>表示E-UTRA, UTRA, GERAN, 或 CDMA2000 测量的测量上报配置</p>
</li>
<li>
<p>触发类型, 周期测量或事件触发测量</p>
</li>
<li>
<p>目的, 报告信号最强小区</p>
</li>
<li>
<p>triggerQuantity</p>
</li>
<li>
<p>reportQuantity</p>
</li>
<li>
<p>maxReportCells</p>
</li>
<li>
<p>测量报告周期240ms</p>
</li>
<li>
<p>测量报告数量</p>
</li>
<li>
<p>测量任务标识添加列表, 包含要添加或修改的测量标识列表</p>
</li>
<li>
<p>测量标识</p>
</li>
<li>
<p>//late</p>
</li>
<li>
<p>//later</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_rrc_conn_reconfig_for_meas_remove">RRC Connection Reconfiguration for remove Measurement</h3>
<div class="listingblock">
<div class="title">RRC Connection Reconfiguration for remove Measurement</div>
<div class="content">
<pre>MS1
RRC Connection Reconfiguration (DL-DCCH)

rrcConnectionReconfiguration-r8
  measConfig
    measIdToRemoveList                                                    <b class="conum">(1)</b>
      MeasIdToRemoveList :
        [0 ] : 6                                                          <b class="conum">(2)</b>
        [1 ] : 7                                                          <b class="conum">(3)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>要删除的measID列表</p>
</li>
<li>
<p>删除测量报告ID6</p>
</li>
<li>
<p>删除测量报告ID7</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_meas_report">Measurement Report</h3>
<div class="listingblock">
<div class="title">Measurement Report</div>
<div class="content">
<pre>MS1
Measurement Report (UL-DCCH)

measurementReport-r8
  measResults
    measId : 5                                                            <b class="conum">(1)</b>
    rsrpResult : 57                                                       <b class="conum">(2)</b>
    rsrqResult : 15                                                       <b class="conum">(3)</b>
    measResultNeighCells : measResultListEUTRA                            <b class="conum">(4)</b>
    measResultListEUTRA
      MeasResultListEUTRA :                                               <b class="conum">(5)</b>
        [0 ] :
          physCellId : 3                                                  <b class="conum">(6)</b>
          rsrpResult : 62                                                 <b class="conum">(7)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>服务小区测量报告IE</p>
</li>
<li>
<p>RSRP值</p>
</li>
<li>
<p>RSRQ值</p>
</li>
<li>
<p>临小区测量结果</p>
</li>
<li>
<p>临小区EUTRA测量结果</p>
</li>
<li>
<p>对应临小区物理层标识</p>
</li>
<li>
<p>临小区RSRP值</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_网络层信令解析">网络层信令解析</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="msg_initial_ue_message">Initial UE Message</h3>
<div class="paragraph">
<p>初始直传消息. 基站把从UU口收到的NAS消息发往核心网, 初始ATTACH时, 该Nas消息一般包含ATTACH REQ, 请求在核心网创建上下文.</p>
</div>
<div class="listingblock">
<div class="title">InitialUEMessage</div>
<div class="content">
<pre>S1 Application Protocol
  S1AP-PDU: initiatingMessage (0)
    initiatingMessage
      procedureCode: id-initialUEMessage (12)                  <b class="conum">(1)</b>
      criticality: ignore (1)
       InitialUEMessage                                        <b class="conum">(2)</b>
         protocolIEs: 5 items
           Item 0: id-eNB-UE-S1AP-ID                           <b class="conum">(3)</b>
               ENB-UE-S1AP-ID: 1                               <b class="conum">(4)</b>
           Item 1: id-NAS-PDU                                  <b class="conum">(5)</b>
               NAS-PDU: 177187869d04074102...
               Non-Access-Stratum (NAS)PDU
           Item 2: id-TAI                                      <b class="conum">(6)</b>
               TAI
                 pLMNidentity: 00f110                          <b class="conum">(7)</b>
                 Mobile Country Code (MCC): Unknown (1)
                 Mobile Network Code (MNC): Unknown (01)
                 tAC: 3132                                     <b class="conum">(8)</b>
           Item 3: id-EUTRAN-CGI                               <b class="conum">(9)</b>
                EUTRAN-CGI
                  pLMNidentity: 00f110
                  Mobile Country Code (MCC): Unknown (1)
                  Mobile Network Code (MNC): Unknown (01)
                  cell-ID: 00000020                            <b class="conum">(10)</b>
           Item 4: id-RRC-Establishment-Cause                  <b class="conum">(11)</b>
               RRC-Establishment-Cause: mo-Signalling (3)      <b class="conum">(12)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>procedureCode</p>
</li>
<li>
<p>UE初始消息</p>
</li>
<li>
<p>id-eNB-UE-S1AP-ID</p>
</li>
<li>
<p>eNB侧的用户标识</p>
</li>
<li>
<p>id-NAS-PD</p>
</li>
<li>
<p>id-TAI</p>
</li>
<li>
<p>PLMN值</p>
</li>
<li>
<p>TAC值</p>
</li>
<li>
<p>id-EUTRAN-CGI</p>
</li>
<li>
<p>此值为ECI</p>
</li>
<li>
<p>id-RRC-Establishment-Cause</p>
</li>
<li>
<p>RRC建立原因值, 移动终端接入. 此值与<a href="#msg_rrc_connection_request">[RRC Connection Request]</a>携带的原因值一致</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_initial_context_setup_req">Initial Context Setup Request</h3>
<div class="paragraph">
<p>初始上下文建立请求. 由核心网发往基站, 包含Nas消息ATTACH ACCEPT, 指示基站为该UE分配资源建立数据承载.</p>
</div>
<div class="listingblock">
<div class="title">Initial Context Setup Request</div>
<div class="content">
<pre>S1 Application Protocol
 S1AP-PDU: initiatingMessage (0)
  initiatingMessage
   procedureCode: id-InitialContextSetup (9)
   criticality: reject (0)
    InitialContextSetupRequest                                 <b class="conum">(1)</b>
      protocolIEs: 6 items
        Item 0: id-MME-UE-S1AP-ID
          MME-UE-S1AP-ID: 33554442                             <b class="conum">(2)</b>
        Item 1: id-eNB-UE-S1AP-ID
          ENB-UE-S1AP-ID: 1                                    <b class="conum">(3)</b>
        Item 2: id-uEaggregateMaximumBitrate
          UEAggregateMaximumBitrate                            <b class="conum">(4)</b>
            uEaggregateMaximumBitRateDL: 20480000              <b class="conum">(5)</b>
            uEaggregateMaximumBitRateUL: 4096000               <b class="conum">(6)</b>
        Item 3: id-E-RABToBeSetupListCtxtSUReq                 <b class="conum">(7)</b>
          E-RABToBeSetupListCtxtSUReq: 1 item
            Item 0: id-E-RABToBeSetupItemCtxtSUReq
              E-RABToBeSetupItemCtxtSUReq
                e-RAB-ID: 5                                    <b class="conum">(8)</b>
                e-RABlevelQoSParameters                        <b class="conum">(9)</b>
                  qCI: 7                                       <b class="conum">(10)</b>
                  allocationRetentionPriority                  <b class="conum">(11)</b>
                    priorityLevel: highest (1)                 <b class="conum">(12)</b>
                    pre-emptionCapability: may-trigger-pre-emption (1)   <b class="conum">(13)</b>
                    pre-emptionVulnerability: pre-emptable (1)           <b class="conum">(14)</b>
                  gbrQosInformation                            <b class="conum">(15)</b>
                    e-RAB-MaximumBitrateDL: 0
                    e-RAB-MaximumBitrateUL: 0
                    e-RAB-GuaranteedBitrateDL: 0
                    e-RAB-GuaranteedBitrateUL: 0
                0... .... Extension Present Bit: False
                transportLayerAddress: 0a5878cc
                  transportLayerAddress(IPv4): 10.88.120.204   <b class="conum">(16)</b>
                gTP-TEID: 0000048a                             <b class="conum">(17)</b>
                nAS-PDU: 27dac5cd...
                Non-Access-Stratum (NAS)PDU
                  [message ignore]                             <b class="conum">(18)</b>
        Item 4: id-UESecurityCapabilities
          UESecurityCapabilities                               <b class="conum">(19)</b>
            ..0. .... Extension Present Bit: False
            encryptionAlgorithms: c000                         <b class="conum">(20)</b>
            ...0 .... Extension Present Bit: False
            integrityProtectionAlgorithms: c000                <b class="conum">(21)</b>
        Item 5: id-SecurityKey
          SecurityKey: dc1e1e... [bit length 256]              <b class="conum">(22)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>初始化上下文建立请求</p>
</li>
<li>
<p>核心网侧UE用户标识. 在eNodeB保存的UE上下文释放之前, S1接口都是用同样的一对MME-eNodeB S1AP ID来识别UE. 此值与eNB-UE-S1AP-ID不同</p>
</li>
<li>
<p>基站侧用户标识</p>
</li>
<li>
<p>AMBR (Aggregate Maximum Bit Rate)是集合最大比特速率, 在UE开户时设置, 系统通过限制流量方式禁止一组数据流集合的比特速率超过AMBR, 多个EPS承载可以共享一个AMBR. 对于UE AMBR带宽管理是限制一个UE的所有Non-GBR承载的速率之和不会超过UE AMBR. 如果开户时AMBR设置为0, 则初始上下文建立失败, 会回复INITIAL CONTEXT SETUP FAILURE消息且原因值可能为"Semantic Error". (因为协议没有完全对应的原因值, 所以原因值和产品实现有关. )该值定义了用户SIM的最大下载速率, 分为下行和上行.</p>
</li>
<li>
<p>下行AMBR, EPC开户配置</p>
</li>
<li>
<p>上行AMBR, EPC开户配置</p>
</li>
<li>
<p>需要建立的E-RAB的列表, 初始接入时只包含默认承载的信息. 因此只有一项.</p>
</li>
<li>
<p>eNodeB分配的管理E-RAB的标识. 默认承载建立时, E-RAB-ID默认为5. 专用承载为其它值. ERAB-ID的有效范围也同样是5-15;  故我们看到的默认承载建立其ERAB-ID都是从5开始编号的.</p>
</li>
<li>
<p>RAB Qos参数等级</p>
</li>
<li>
<p>终端开户的CQI. 不同QCI的SDF映射到不同的EPS承载. 默认承载只能是Non-GBR类型</p>
</li>
<li>
<p>分配资源的优先级配置(包括优先级和抢占指示器)</p>
</li>
<li>
<p>此处为优先级1最高级, 如果配置为"no priority", 则不考虑下面两个参考的配置.</p>
</li>
<li>
<p>配置为＂may-trigger-pre-emption＂, 表示分配可触发抢占过程. 若配置为
"shall-not-trigger-pre-emption"表示分配不可触发抢占过程.</p>
</li>
<li>
<p>表示某ERAB的资源能否被其他ERAB抢占. 此处设置为"pre-emptable", 表示该E-RAB应该包含在抢占过程中.</p>
</li>
<li>
<p>//later</p>
</li>
<li>
<p>UGW分配的GTPU对端地址(传输层地址), 应该等于eNodeB IPPATH中设置的UGW业务地址. 如果地址不相等, 则eNodeB传输资源申请失败, 会回复INITIAL CONTEXT SETUP FAILURE消息且原因值为"Transport Resource Unavailable".</p>
</li>
<li>
<p>GTP遂道终结点, 此处指的是上行GTP遂道终结点, 或者说 UGW分配的GTPU对端端口. eNodeB在申请传输资源并分配本端的地址和端口后, 建立GTPU实体. 默认承载和专有承载实际上使用的是不同的GTPU隧道.</p>
</li>
<li>
<p>NAS PDU未做解析</p>
</li>
<li>
<p>UE的安全能力, 在NAS Attach Request中包含了网络能力. 这里主要体现了加密算法和完全性保护算法.</p>
</li>
<li>
<p>加密算法: 比特映射中每一个位置表示一种加密算法: "所有比特为0" - UE 支持EEA0, 不支持其它算法;  "first bit" - 128-EEA1,; "second bit" - 128-EEA2, 其它比特保留以备以后使用. 值 '1&#8217;表示支持, 值 '0&#8217;表示不支持该算法.</p>
</li>
<li>
<p>完整性算法: 比特映射中每一个位置表示一种完整性保护算法: "all bits equal to 0" – UE只支持 EIA0 ([15]);  "first bit" - 128-EIA1; "second bit" - 128-EIA2. 其它比特保留以备以后使用. 值'1&#8217;表示支持, 值 '0&#8217;表示不支持该算法</p>
</li>
<li>
<p>安全密钥. 核心网和UE之间NAS层的鉴权和安全过程之后, 通过初始密钥生成的KeNodeB, eNodeB收到后会导出AS层的安全密钥.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_ue_cap_info_ind">UE Capability Info Indication</h3>
<div class="paragraph">
<p>UE能力上报消息, 由基站发往核心网, 将RRC_UE_CAP_INFO中的内容转发到核心网. 这条消息与上一条消息是基站透传的结果, 上一条消息是UE向基站上报无线接入能力, 这条消息是基站把UE的无线接入能力透传给MME.</p>
</div>
<div class="listingblock">
<div class="title">UE Capability Info Indication</div>
<div class="content">
<pre>S1 Application Protocol
 S1AP-PDU: initiatingMessage (0)
  initiatingMessage
   procedureCode: id-UECapabilityInfoIndication (22)
   criticality: ignore (1)
    UECapabilityInfoIndication                                  <b class="conum">(1)</b>
     protocolIEs: 3 items
      Item 0: id-MME-UE-S1AP-ID
         MME-UE-S1AP-ID: 33554442                               <b class="conum">(2)</b>
      Item 1: id-eNB-UE-S1AP-ID
         ENB-UE-S1AP-ID: 1                                      <b class="conum">(3)</b>
      Item 2: id-UERadioCapability
         UERadioCapability: 00da01018c518b82e0bbf06ec4...
          UERadioAccessCapabilityInformation                    <b class="conum">(4)</b>
           criticalExtensions: c1 (0)
            c1: ueRadioAccessCapabilityInformation-r8 (0)
             ueRadioAccessCapabilityInformation-r8
              ue-RadioAccessCapabilityInfo: 4020318...
               UECapabilityInformation
                rrc-TransactionIdentifier: 1
                criticalExtensions: c1 (0)
                 c1: ueCapabilityInformation-r8 (0)
                  ueCapabilityInformation-r8
                   ue-CapabilityRAT-ContainerList: 1 item
                    Item 0
                     UE-CapabilityRAT-Container
                      rat-Type: eutra (0)                      <b class="conum">(5)</b>
                      ueCapabilityRAT-Container: c51...
                      UE-EUTRA-Capability                      <b class="conum">(6)</b>
                       accessStratumRelease: rel9 (1)          <b class="conum">(7)</b>
                       ue-Category: 3                          <b class="conum">(8)</b>
                       pdcp-Parameters                         <b class="conum">(9)</b>
                        supportedROHC-Profiles                 <b class="conum">(10)</b>
                         ...1 .... profile0x0001: True
                         .... 1... profile0x0002: True
                         .... .0.. profile0x0003: False
                         .... ..0. profile0x0004: False
                         .... ...0 profile0x0006: False
                         0... .... profile0x0101: False
                         .0.. .... profile0x0102: False
                         ..0. .... profile0x0103: False
                         ...0 .... profile0x0104: False
                       phyLayerParameters                     <b class="conum">(11)</b>
                        .... 0... ue-TxAntennaSelectionSupported: False  <b class="conum">(12)</b>
                        .... .0.. ue-SpecificRefSigsSupported: False     <b class="conum">(13)</b>
                       rf-Parameters                          <b class="conum">(14)</b>
                        supportedBandListEUTRA: 3 items
                         Item 0
                          SupportedBandEUTRA
                           bandEUTRA: 38
                           ..0. .... halfDuplex: False
                         Item 1
                          SupportedBandEUTRA
                           bandEUTRA: 39
                           .0.. .... halfDuplex: False
                         Item 2
                          SupportedBandEUTRA
                           bandEUTRA: 40
                           0... .... halfDuplex: False
                       measParameters
                        bandListEUTRA: 3 items
                         Item 0
                          BandInfoEUTRA
                           interFreqBandList: 3 items
                            Item 0
                             InterFreqBandInfo
                              .... ..1. interFreqNeedForGaps: True
                            Item 1
                             InterFreqBandInfo
                              .... ...1 interFreqNeedForGaps: True
                            Item 2
                             InterFreqBandInfo
                              1... .... interFreqNeedForGaps: True
                         Item 1
                          BandInfoEUTRA
                           interFreqBandList: 3 items
                            Item 0
                             InterFreqBandInfo
                              1... .... interFreqNeedForGaps: True
                            Item 1
                             InterFreqBandInfo
                              .1.. .... interFreqNeedForGaps: True
                            Item 2
                             InterFreqBandInfo
                              ..1. .... interFreqNeedForGaps: True
                         Item 2
                          BandInfoEUTRA
                           interFreqBandList: 3 items
                            Item 0
                             InterFreqBandInfo
                              ..1. .... interFreqNeedForGaps: True
                            Item 1
                             InterFreqBandInfo
                              ...1 .... interFreqNeedForGaps: True
                            Item 2
                             InterFreqBandInfo
                              .... 1... interFreqNeedForGaps: True
                       featureGroupIndicators: 7e0dd880 [bit length 32]
                        0... .... = Indicator 1: Intra-subframe freq hopping for PUSCH scheduled by UL grant; DCI format 3a; PDSCH transmission mode 5; Aperiodic CQI/PMI/RI report on PUSCH: Mode 2-0 and 2-2 - Not supported
                        .1.. .... = Indicator 2: Simultaneous CQI and ACK/NACK on PUCCH (format 2a/2b); Absolute TPC command for PUSCH; Resource alloc type 1 for PDSCH; Periodic CQI/PMI/RI report on PUCCH: Mode 2-0 and 2-1 - Supported
                        ..1. .... = Indicator 3: 5bit RLC UM SN; 7bit PDCP SN - Supported
                        ...1 .... = Indicator 4: Short DRX cycle - Supported
                        .... 1... = Indicator 5: Long DRX cycle; DRX command MAC control element - Supported
                        .... .1.. = Indicator 6: Prioritised bit rate - Supported
                        .... ..1. = Indicator 7: RLC UM - Supported
                        .... ...0 = Indicator 8: EUTRA RRC_CONNECTED to UTRA CELL_DCH PS handover - Not supported
                        0... .... = Indicator 9: EUTRA RRC_CONNECTED to GERAN GSM_Dedicated handover - Not Supported
                        .0.. .... = Indicator 10: EUTRA RRC_CONNECTED to GERAN (Packet_) Idle by Cell Change Order; EUTRA RRC_CONNECTED to GERAN (Packet_) Idle by Cell Change Order with NACC - Not supported
                        ..0. .... = Indicator 11: EUTRA RRC_CONNECTED to CDMA2000 1xRTT CS Active handover - Not supported
                        ...0 .... = Indicator 12: EUTRA RRC_CONNECTED to CDMA2000 HRPD Active handover - Not supported
                        .... 1... = Indicator 13: Inter-frequency handover - Supported
                        .... .1.. = Indicator 14: Measurement reporting event: Event A4 - Neighbour &gt; threshold; Measurement reporting event: Event A5 - Serving &lt; threshold1 &amp; Neighbour &gt; threshold2 - Supported
                        .... ..0. = Indicator 15: Measurement reporting event: Event B1 - Neighbour &gt; threshold - Not supported
                        .... ...1 = Indicator 16: non-ANR related periodical measurement reporting - Supported
                        1... .... = Indicator 17: Periodical measurement reporting for SON / ANR; ANR related intra-frequency measurement reporting events - Supported
                        .1.. .... = Indicator 18: ANR related inter-frequency measurement reporting events - Supported
                        ..0. .... = Indicator 19: ANR related inter-RAT measurement reporting events - Not supported
                        ...1 .... = Indicator 20: SRB1 and SRB2 for DCCH + 8x AM DRB; SRB1 and SRB2 for DCCH + 5x AM DRB + 3x UM DRB (if indicator 7 is supported) - Supported
                        .... 1... = Indicator 21: Predefined intra- and inter-subframe frequency hopping for PUSCH with N_sb &gt; 1; Predefined inter-subframe frequency hopping for PUSCH with N_sb &gt; 1 - Supported
                        .... .0.. = Indicator 22: UTRAN measurements, reporting and measurement reporting event B2 in E-UTRA connected mode - Not supported
                        .... ..0. = Indicator 23: GERAN measurements, reporting and measurement reporting event B2 in E-UTRA connected mode - Not supported
                        .... ...0 = Indicator 24: 1xRTT measurements, reporting and measurement reporting event B2 in E-UTRA connected mode - Not supported
                        1... .... = Indicator 25: Inter-frequency measurements and reporting in E-UTRA connected mode - Supported
                        .0.. .... = Indicator 26: HRPD measurements, reporting and measurement reporting event B2 in E-UTRA connected mode - Not supported
                        ..0. .... = Indicator 27: EUTRA RRC_CONNECTED to UTRA CELL_DCH CS handover - Not supported
                        ...0 .... = Indicator 28: TTI bundling - Not supported
                        .... 0... = Indicator 29: Semi-Persistent Scheduling - Not supported
                        .... .0.. = Indicator 30: Undefined - Not supported
                        .... ..0. = Indicator 31: Undefined - Not supported
                        .... ...0 = Indicator 32: Undefined - Not supported
                       interRAT-Parameters
                       nonCriticalExtension
                        phyLayerParameters-v920
                        interRAT-ParametersGERAN-v920
                        csg-ProximityIndicationParameters-r9
                        neighCellSI-AcquisitionParameters-r9
                        son-Parameters-r9
                        nonCriticalExtension
                         lateNonCriticalExtension: 8000000000</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>UE无线接入能力信息. 共三项.</p>
</li>
<li>
<p>核心网侧UE用户标识. 在eNodeB保存的UE上下文释放之前, S1接口都是用同样的一对MME-eNodeB S1AP ID来识别UE.</p>
</li>
<li>
<p>基站侧的UE用户标识.</p>
</li>
<li>
<p>UE无线接入能力信息</p>
</li>
<li>
<p>支持EUTRAN</p>
</li>
<li>
<p>UE capability</p>
</li>
<li>
<p>rel9</p>
</li>
<li>
<p>UE Category 3</p>
</li>
<li>
<p>PDCP 参数</p>
</li>
<li>
<p>支持ROHC的能力集, 支持1, 2模式</p>
</li>
<li>
<p>PHY层参数</p>
</li>
<li>
<p>later</p>
</li>
<li>
<p>later</p>
</li>
<li>
<p>RF参数</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_inital_context_setup_rsp">Inital Context Setup Response</h3>
<div class="listingblock">
<div class="title">Inital Context Setup Response</div>
<div class="content">
<pre>S1 Application Protocol
  S1AP-PDU: successfulOutcome (1)
    successfulOutcome
      procedureCode: id-InitialContextSetup (9)                           <b class="conum">(1)</b>
      criticality: reject (0)
       InitialContextSetupResponse
         protocolIEs: 3 items
           Item 0: id-MME-UE-S1AP-ID                                      <b class="conum">(2)</b>
            MME-UE-S1AP-ID: 33554442
           Item 1: id-eNB-UE-S1AP-ID                                      <b class="conum">(3)</b>
            ENB-UE-S1AP-ID: 1
           Item 2: id-E-RABSetupListCtxtSURes                             <b class="conum">(4)</b>
            E-RABSetupListCtxtSURes: 1 item
              Item 0: id-E-RABSetupItemCtxtSURes
               E-RABSetupItemCtxtSURes
                 e-RAB-ID: 5                                              <b class="conum">(5)</b>
                 .... ...0 Extension Present Bit: False
                 transportLayerAddress: 0a58788c                          <b class="conum">(6)</b>
                   transportLayerAddress(IPv4): 10.88.120.140
                 gTP-TEID: 0200000a                                       <b class="conum">(7)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>初始文本建立响应</p>
</li>
<li>
<p>MME侧用户标识33554442</p>
</li>
<li>
<p>ENB侧用户标识1</p>
</li>
<li>
<p>E-RABSetupListCtxt</p>
</li>
<li>
<p>e-RAB-ID 5</p>
</li>
<li>
<p>transportLayerAddress</p>
</li>
<li>
<p>此处的GTP-TEID为下行GTP-TEID</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_s1_setup_req">S1 Setup Request</h3>
<div class="listingblock">
<div class="title">S1 Setup Request</div>
<div class="content">
<pre>S1 Application Protocol
 S1AP-PDU: initiatingMessage (0)
  initiatingMessage
   procedureCode: id-S1Setup (17)
    S1SetupRequest
     protocolIEs: 3 items
      Item 0: id-Global-ENB-ID                                            <b class="conum">(1)</b>
         Global-ENB-ID
          pLMNidentity: 00f110
          Mobile Country Code (MCC): Unknown (1)
          Mobile Network Code (MNC): Unknown (01)
          eNB-ID: homeENB-ID (1)
           homeENB-ID: 00000c80
      Item 1: id-SupportedTAs                                             <b class="conum">(2)</b>
         SupportedTAs: 1 item
            tAC: 3132
            broadcastPLMNs: 1 item
             Item 0
              PLMNidentity: 00f110
              Mobile Country Code (MCC): Unknown (1)
              Mobile Network Code (MNC): Unknown (01)
      Item 2: id-DefaultPagingDRX                                         <b class="conum">(3)</b>
         PagingDRX: v64 (1)</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Global-ENB-ID = PLMN ID + eNB ID</p>
</li>
<li>
<p>支持的TAs列表</p>
</li>
<li>
<p>DefaultPagingDRX</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_s1_setup_rsp">S1 Setup Response</h3>
<div class="listingblock">
<div class="title">S1 Setup Response</div>
<div class="content">
<pre>S1 Application Protocol
 S1AP-PDU: successfulOutcome (1)
  successfulOutcome
   procedureCode: id-S1Setup (17)
    S1SetupResponse
     protocolIEs: 2 items
      Item 0: id-ServedGUMMEIs                                            <b class="conum">(1)</b>
       ServedGUMMEIs: 1 item
        Item 0
         ServedGUMMEIsItem
          servedPLMNs: 1 item
           Item 0
            PLMNidentity: 00f110
            Mobile Country Code (MCC): Unknown (1)
            Mobile Network Code (MNC): Unknown (01)
          servedGroupIDs: 1 item
           Item 0
            MME-Group-ID: 0002
          servedMMECs: 1 item
           Item 0
            MME-Code: 01
      Item 1: id-RelativeMMECapacity                                      <b class="conum">(2)</b>
         RelativeMMECapacity: 255</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>GUMMEI = PLMN ID + MMEGI + MMEC</p>
</li>
<li>
<p>RelativeMMECapacity</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_ENB_direct_info_transfer">ENB Direct Information Transfer</h3>
<div class="listingblock">
<div class="title">ENB Direct Information Transfer</div>
<div class="content">
<pre>S1 Application Protocol
 S1AP-PDU: initiatingMessage (0)
  initiatingMessage
   procedureCode: id-eNBDirectInformationTransfer (37)
    ENBDirectInformationTransfer
     protocolIEs: 1 item
      Item 0: id-Inter-SystemInformationTransferTypeEDT                   <b class="conum">(1)</b>
        id: id-Inter-SystemInformationTransferTypeEDT (121)
         Inter-SystemInformationTransferType: rIMTransfer (0)             <b class="conum">(2)</b>
          rIMTransfer
           rIMInformation: 71548900211332170001002d548f0200f11031320000f110...
           rIMRoutingAddress: gERAN-Cell-ID (0)
            gERAN-Cell-ID
             lAI
              pLMNidentity: 211332
              Mobile Country Code (MCC): Unknown (123)
              Mobile Network Code (MNC): Unknown (123)
              lAC: 1700
             rAC: 01
             cI: 002d</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Inter-SystemInformationTransferType</p>
</li>
<li>
<p>rIMTransfer 传输RAN Information Management</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_erab_setup_req">E-RAB Setup Request</h3>
<div class="listingblock">
<div class="title">E-RAB Setup Request</div>
<div class="content">
<pre>S1 Application Protocol
 S1AP-PDU: initiatingMessage (0)
  initiatingMessage
   procedureCode: id-E-RABSetup (5)
   criticality: reject (0)
    E-RABSetupRequest
     protocolIEs: 4 items
      Item 0: id-MME-UE-S1AP-ID
         MME-UE-S1AP-ID: 33554442                                         <b class="conum">(1)</b>
      Item 1: id-eNB-UE-S1AP-ID
         ENB-UE-S1AP-ID: 1                                                <b class="conum">(2)</b>
      Item 2: id-uEaggregateMaximumBitrate                                <b class="conum">(3)</b>
         UEAggregateMaximumBitrate
          uEaggregateMaximumBitRateDL: 40960000                           <b class="conum">(4)</b>
          uEaggregateMaximumBitRateUL: 8192000                            <b class="conum">(5)</b>
      Item 3: id-E-RABToBeSetupListBearerSUReq                            <b class="conum">(6)</b>
         E-RABToBeSetupListBearerSUReq: 1 item
          Item 0: id-E-RABToBeSetupItemBearerSUReq
             E-RABToBeSetupItemBearerSUReq
              e-RAB-ID: 6                                                 <b class="conum">(7)</b>
              e-RABlevelQoSParameters
               qCI: 7
               allocationRetentionPriority
                priorityLevel: highest (1)
                pre-emptionCapability: may-trigger-pre-emption (1)
                pre-emptionVulnerability: pre-emptable (1)
               gbrQosInformation
                e-RAB-MaximumBitrateDL: 0
                e-RAB-MaximumBitrateUL: 0
                e-RAB-GuaranteedBitrateDL: 0
                e-RAB-GuaranteedBitrateUL: 0
              0... .... Extension Present Bit: False
              transportLayerAddress: 0a5878cc
               transportLayerAddress(IPv4): 10.88.120.204 (10.88.120.204)
              gTP-TEID: 00000487
              nAS-PDU: 27cfa1c62e046203c10507ffffffff1905636d6e6574066d...
              Non-Access-Stratum (NAS)PDU
               0010 .... = Security header type: Integrity protected and ciphered (2)
               .... 0111 = Protocol discriminator: EPS mobility management messages (7)
               Message authentication code: 0xcfa1c62e
               Sequence number: 4
               0110 .... = EPS bearer identity: 0x06
               .... 0010 = Protocol discriminator: EPS session management messages (2)
               Procedure transaction identity: 3
               NAS EPS session management messages: Activate default EPS bearer context request (0xc1)
               EPS quality of service
                Length: 5
                Quality of Service Class Identifier (QCI): QCI 7 (7)
                Maximum bit rate for uplink : 0 kbps
                Maximum bit rate for downlink : 0 kbps
                Guaranteed bit rate for uplink : 0 kbps
                Guaranteed bit rate for downlink : 0 kbps
               Access Point Name
                Length: 25
                APN: cmnet.mnc001.mcc001.gprs
               PDN address
                Length: 5
                0000 0... = Spare bit(s): 0x00
                PDN type: IPv4 (1)
                PDN IPv4: 70.0.0.2 (70.0.0.2)
               APN aggregate maximum bit rate
                Element ID: 94
                Length: 4
                APN-AMBR for downlink : 8640 kbps
                APN-AMBR for uplink : 4096 kbps
                APN-AMBR for downlink (extended) : 20 Mbps
                Total APN-AMBR for downlink : 20.000 Mbps
                Use the value indicated by the APN-AMBR for uplink
                Total APN-AMBR for uplink : 4.096 Mbps
               Protocol Configuration Options
                Element ID: 39
                Length: 41
                [Link direction: Network to MS (1)]
                1... .... = Ext: 0x01
                Configuration Protocol: PPP (0)
                Protocol or Container ID: IP Control Protocol (32801)
                Length: 0x10 (16)
                PPP IP Control Protocol
                 Code: Configuration Ack (0x02)
                 Identifier: 0x00
                 Length: 16
                 Options: (12 bytes)
                  Primary DNS server IP address: 8.8.8.8
                  Secondary DNS server IP address: 4.2.2.1
                Protocol or Container ID: Challenge Handshake Authentication Protocol (49699)
                Length: 0x04 (4)
                PPP Challenge Handshake Authentication Protocol
                 Code: Success (3)
                 Identifier: 0
                 Length: 4
                Protocol or Container ID: DNS Server IPv4 Address (13)
                Length: 0x04 (4)
                Data (4 bytes)

0000  08 08 08 08            ....
                 Data: 08080808
                 [Length: 4]
                Protocol or Container ID: DNS Server IPv4 Address (13)
                Length: 0x04 (4)
                Data (4 bytes)

0000  04 02 02 01            ....
                 Data: 04020201
                 [Length: 4]</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>later</p>
</li>
<li>
<p>later</p>
</li>
<li>
<p>later</p>
</li>
<li>
<p>later</p>
</li>
<li>
<p>later</p>
</li>
<li>
<p>later</p>
</li>
<li>
<p>later</p>
</li>
<li>
<p>later</p>
</li>
<li>
<p>later</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="msg_erab_setup_rsp">E-RAB Setup Response</h3>
<div class="listingblock">
<div class="title">E-RAB Setup Response</div>
<div class="content">
<pre>S1 Application Protocol
 S1AP-PDU: successfulOutcome (1)
  successfulOutcome
   procedureCode: id-E-RABSetup (5)
   criticality: reject (0)
    E-RABSetupResponse
     protocolIEs: 3 items
      Item 0: id-MME-UE-S1AP-ID
         MME-UE-S1AP-ID: 33554442
      Item 1: id-eNB-UE-S1AP-ID
         ENB-UE-S1AP-ID: 1
      Item 2: id-E-RABSetupListBearerSURes
         E-RABSetupListBearerSURes: 1 item
          Item 0: id-E-RABSetupItemBearerSURes
             E-RABSetupItemBearerSURes
              e-RAB-ID: 6
              .... ...0 Extension Present Bit: False
              transportLayerAddress: 0a58788c
               transportLayerAddress(IPv4): 10.88.120.140
              gTP-TEID: 01000009</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.1<br>
Last updated 2015-08-25 11:00:17 CST
</div>
</div>
</body>
</html>